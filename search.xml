<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JVMå‚æ•°è°ƒä¼˜]]></title>
    <url>%2F2018%2F03%2F09%2F2018-03-09%2F</url>
    <content type="text"><![CDATA[å¸¸è§é…ç½®æ±‡æ€»å †è®¾ç½®-Xms:åˆå§‹å †å¤§å°-Xmx:æœ€å¤§å †å¤§å°-XX:NewSize=n:è®¾ç½®å¹´è½»ä»£å¤§å°-XX:NewRatio=n:è®¾ç½®å¹´è½»ä»£å’Œå¹´è€ä»£çš„æ¯”å€¼.å¦‚:ä¸º3,è¡¨ç¤ºå¹´è½»ä»£ä¸å¹´è€ä»£æ¯”å€¼ä¸º1:3,å¹´è½»ä»£å æ•´ä¸ªå¹´è½»ä»£å¹´è€ä»£å’Œçš„1/4-XX:SurvivorRatio=n:å¹´è½»ä»£ä¸­EdenåŒºä¸ä¸¤ä¸ªSurvivoråŒºçš„æ¯”å€¼.æ³¨æ„SurvivoråŒºæœ‰ä¸¤ä¸ª.å¦‚:3,è¡¨ç¤ºEden:Survivor=3:2,ä¸€ä¸ªSurvivoråŒºå æ•´ä¸ªå¹´è½»ä»£çš„1/5-XX:MaxPermSize=n:è®¾ç½®æŒä¹…ä»£å¤§å°æ”¶é›†å™¨è®¾ç½®-XX:+UseSerialGC:è®¾ç½®ä¸²è¡Œæ”¶é›†å™¨-XX:+UseParallelGC:è®¾ç½®å¹¶è¡Œæ”¶é›†å™¨-XX:+UseParalledlOldGC:è®¾ç½®å¹¶è¡Œå¹´è€ä»£æ”¶é›†å™¨-XX:+UseConcMarkSweepGC:è®¾ç½®å¹¶å‘æ”¶é›†å™¨åƒåœ¾å›æ”¶ç»Ÿè®¡ä¿¡æ¯-XX:+PrintGC-XX:+PrintGCDetails-XX:+PrintGCTimeStamps-Xloggc:filenameå¹¶è¡Œæ”¶é›†å™¨è®¾ç½®-XX:ParallelGCThreads=n:è®¾ç½®å¹¶è¡Œæ”¶é›†å™¨æ”¶é›†æ—¶ä½¿ç”¨çš„CPUæ•°.å¹¶è¡Œæ”¶é›†çº¿ç¨‹æ•°.-XX:MaxGCPauseMillis=n:è®¾ç½®å¹¶è¡Œæ”¶é›†æœ€å¤§æš‚åœæ—¶é—´-XX:GCTimeRatio=n:è®¾ç½®åƒåœ¾å›æ”¶æ—¶é—´å ç¨‹åºè¿è¡Œæ—¶é—´çš„ç™¾åˆ†æ¯”.å…¬å¼ä¸º1/(1+n)å¹¶å‘æ”¶é›†å™¨è®¾ç½®-XX:+CMSIncrementalMode:è®¾ç½®ä¸ºå¢é‡æ¨¡å¼.é€‚ç”¨äºå•CPUæƒ…å†µ.-XX:ParallelGCThreads=n:è®¾ç½®å¹¶å‘æ”¶é›†å™¨å¹´è½»ä»£æ”¶é›†æ–¹å¼ä¸ºå¹¶è¡Œæ”¶é›†æ—¶,ä½¿ç”¨çš„CPUæ•°.å¹¶è¡Œæ”¶é›†çº¿ç¨‹æ•°. å‚è€ƒï¼šhttp://blog.csdn.net/xiajian2010/article/details/17376157]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤„ç†æ•°æ®å¯è§†åŒ–]]></title>
    <url>%2F2018%2F03%2F08%2F2018-03-08%2F</url>
    <content type="text"><![CDATA[æ ¹æ®ç°æœ‰æ•°æ®é›†è¿›è¡Œæ•°æ®è¡¨æŸ¥è¯¢é›†æ„å»ºï¼š galleryproduction å·¦å¤–è”ç»“ production: 1234SELECT scratch_api_production.id,scratch_api_galleryproduction.production_id,scratch_api_production.nameFROM scratch_api_galleryproduction LEFT JOIN scratch_api_productionON scratch_api_production.id=scratch_api_galleryproduction.production_id production å·¦å¤–è”ç»“ user: 1234SELECT scratch_api_production.author_id,scratch_api_user.baseuser_ptr_id,scratch_api_user.sex,scratch_api_user.gradeFROM scratch_api_production LEFT JOIN scratch_api_user ON scratch_api_production.author_id=scratch_api_user.baseuser_ptr_id å†æ„å»ºä¸‰è”è¡¨ï¼š galleryproductionå·¦å¤–è”ç»“productionå·¦å¤–è”ç»“user ä¸‰è¡¨è”ç»“æŸ¥è¯¢æ¨¡ç‰ˆï¼š 123select username,psw,gname,tel from (t1 left join t2 on t1.t1_id=t2.t1_id) left join t3 on t1.t1_id=t3.t1_id æˆ‘æ ¹æ®ä¸šåŠ¡æµç¨‹å®ç°çš„sqlæŸ¥è¯¢ï¼š æŸ¥è¯¢æŸä¸“é¢˜æ´»åŠ¨ä¸­çš„æ‰€æœ‰ä¿¡æ¯ 1234SELECT *FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 ç„¶åä½¿ç”¨é˜¿é‡Œäº‘çš„DataVè¿›è¡Œæ•°æ®å¯è§†åŒ–: éœ€è¦å¯¹æ¥æ¥å£ï¼š æŸ¥è¯¢ç‚¹èµæ•°æœ€å¤šä½œå“æ’è¡Œï¼š 12345SELECT scratch_api_production.like,scratch_api_production.name FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' AND sex='ç”·'ORDER BY scratch_api_production.like DESC æŸ¥è¯¢ç»“æœé›†ä¸­çš„ç”·å¥³äººæ•° 123456789SELECT sex as æ€§åˆ«, COUNT(sex) AS 'äººæ•°'FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 AND sex='ç”·'UNIONSELECT sex as æ€§åˆ«, COUNT(sex) AS 'äººæ•°'FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 AND sex='å¥³' æŸ¥è¯¢æŸä¸“é¢˜æ´»åŠ¨å­¦æ ¡å‚ä¸åº¦æ’å 123456SELECT scratch_api_user.school_id ,COUNT(*)FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 and scratch_api_user.school_id is not NULLGROUP BY scratch_api_user.school_idorder by count(*) desc æŸ¥è¯¢æŸä¸“é¢˜æ´»åŠ¨ä¸­çš„å‚ä¸æ€§åˆ« 1234SELECT scratch_api_user.sexFROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' æŸ¥è¯¢å¹´çº§å æ¯” 123456SELECT scratch_api_user.grade ,COUNT(*)FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 and scratch_api_user.grade is not NULLGROUP BY scratch_api_user.gradeorder by count(*) desc æŸ¥è¯¢å­¦æ ¡å æ¯” 123456SELECT scratch_api_user.school_id ,COUNT(*)FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1 and scratch_api_user.school_id is not NULLGROUP BY scratch_api_user.school_idorder by count(*) desc æŸ¥è¯¢ä½œå“æäº¤æ—¶é—´ 12345SELECT DATE_FORMAT(scratch_api_production.update_time,"%Y/%m/%e") as 'æ—¥æœŸ',count(*) as 'å½“æ—¥æŠ•ç¥¨æ•°'FROM (scratch_api_galleryproduction LEFT JOIN scratch_api_production ON scratch_api_galleryproduction.production_id=scratch_api_production.id)LEFT JOIN scratch_api_user ON scratch_api_production.author_id = scratch_api_user.baseuser_ptr_idWHERE scratch_api_galleryproduction.gallery_id = 'c8d29756ce4d4e72900dcee34b3b6925' and scratch_api_galleryproduction.admin_checked = 1GROUP BY DATE_FORMAT(scratch_api_production.update_time,"%Y/%m/%e") æŠŠåœ°å€è½¬æ¢æˆç»çº¬åº¦ä¸è¦æ–¹ï¼Œåˆ©ç”¨é«˜å¾·åœ°å›¾ç»çº¬åº¦å¿«é€ŸæŸ¥è¯¢å·¥å…·å¯ä»¥è½»æ¾åœ°æŠŠä»»ä½•åœ°å€è½¬æ¢æˆç»çº¬åº¦ï¼Œå¯å…·ä½“åˆ°é—¨ç‰Œå·å–”ï¼Œå·¥å…·åœ°å€ï¼š æ§åˆ¶å° | é«˜å¾·å¼€æ”¾å¹³å° | é«˜å¾·åœ°å›¾API ä¹‰ä¹Œå¸‚é¦–å±ŠScratchç¼–ç¨‹å‘¨å®æ—¶æ•°æ®çŠ¶æ€ç½‘å€(åŠ¨æ€é¡µé¢):http://datav.aliyun.com/share/07ef37b235d9763bd364f344912d1a05å¤§æ•°æ®å¯è§†åŒ–è¯´æ˜:å¤§æ•°æ®å±å¹•ï¼š1920*1080ï¼ˆå¯ä¿®æ”¹ï¼‰æœ€é«˜å®æ—¶æ›´æ–°é¢‘ç‡ï¼š1min/æ¬¡æ­£å¸¸æ˜¾ç¤ºçš„é¢„è§ˆæ•ˆæœå‚è€ƒï¼ˆé™æ€æˆªå›¾ï¼‰ï¼šhttp://p4lmrb1gp.bkt.clouddn.com/15205615855957.jpgæœ¬æœºä¸Šå¦‚æœä¸æ˜¯ä¸Šè¿°å‚è€ƒæ•ˆæœè¯·æ£€æŸ¥è‡ªå·±çš„æµè§ˆå™¨å¦‚ä¸‹:æ¨èç”µè„‘ä¸Šé¢„è§ˆï¼šé¦–é€‰è°·æ­Œ Chrome æµè§ˆå™¨ç‰ˆæœ¬56ä»¥ä¸Šï¼Œå…¶ä»–æµè§ˆå™¨åˆ™éœ€æ›´æ–°è‡³æœ€æ–°ç‰ˆå¹¶å¼€å¯æé€Ÿï¼ˆchromeå†…æ ¸ï¼‰æ¨¡å¼ï¼Œä¸è¦ä½¿ç”¨IEæµè§ˆå™¨ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚ä¸æ¨èæ‰‹æœºä¸Šé¢„è§ˆï¼šæ— æ³•æŒ‰é»˜è®¤é•¿å®½æ¯”ä¾‹å±•ç¤º é¢„è§ˆæ•ˆæœï¼š]]></content>
      <tags>
        <tag>æ•°æ®å¯è§†åŒ–</tag>
        <tag>DataV</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šæ·±å…¥ç†è§£javaè™šæ‹Ÿæœºã€‹å­¦ä¹ ç¬”è®°ä¹‹äºŒ]]></title>
    <url>%2F2018%2F03%2F06%2F2018-03-05-2%2F</url>
    <content type="text"><![CDATA[ç¬¬äºŒç«  Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸&amp;å®æˆ˜ç¬¬äºŒç« ç»“æ„ï¼š Java è™šæ‹Ÿæœºåœ¨æ‰§è¡Œ Java ç¨‹åºçš„è¿‡ç¨‹ä¸­ä¼šæŠŠå®ƒæ‰€ç®¡ç†çš„å†…å­˜åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªä¸åŒçš„æ•°æ®åŒºåŸŸã€‚è¿™äº›åŒºåŸŸéƒ½æœ‰å„è‡ªçš„ç”¨é€”ï¼Œä»¥åŠåˆ›å»ºå’Œé”€æ¯æ—¶é—´ã€‚æ ¹æ® ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®šï¼ŒJava è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜å°†ä¼šåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè¿è¡Œæ—¶æ•°æ®åŒºåŸŸã€‚å‚è€ƒï¼šhttps://www.jianshu.com/p/989c90f339b9 2.2 è¿è¡Œæ—¶æ•°æ®åŒºåŸŸå…·ä½“è§ä¸‹å›¾ï¼š 2.2.1 ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ æ¦‚è¿°ï¼šè¯¥åŒºåŸŸæ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„ è¡Œå·æŒ‡ç¤ºå™¨ã€‚ ä½œç”¨ï¼šé€šè¿‡æ”¹å˜è®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€‚ï¼ˆåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰ï¼‰åŸºç¡€åŠŸèƒ½éƒ½ä¾èµ–ä¸å…¶å®Œæˆã€‚ ç‰¹ç‚¹ï¼š1.çº¿ç¨‹ç§æœ‰ï¼šå› ä¸º Java è™šæ‹Ÿæœºçš„å¤šçº¿ç¨‹æ˜¯é€šè¿‡çº¿ç¨‹è½®æµåˆ‡æ¢å¹¶åˆ†é…å¤„ç†å™¨æ‰§è¡Œæ—¶é—´æ¥å®ç°çš„ï¼Œåœ¨æŸä¸€æ—¶åˆ»ï¼Œåªä¼šæ‰§è¡Œä¸€æ¡çº¿ç¨‹ã€‚å› æ­¤ï¼Œä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ã€‚2.æ— å†…å­˜æº¢å‡ºï¼šå¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ª Java æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨ æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯ Native æ–¹æ³•ï¼ˆæœ¬åœ°æ–¹æ³•ï¼Œä¸€ä¸ªè°ƒç”¨éJavaä»£ç çš„æ¥å£ï¼‰ï¼Œè¿™ä¸ªè®¡æ•°å™¨å€¼åˆ™ä¸ºç©ºï¼ˆUndefinedï¼‰ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ Java è™šæ‹Ÿæœºç¨‹åºè§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryErroræƒ…å†µçš„åŒºåŸŸã€‚ï¼ˆä¸ªäººç†è§£ï¼šå‚è€ƒC++ç†è§£æ˜¯ï¼šå½“çº¿ç¨‹ä¸­è°ƒç”¨nativeæ–¹æ³•çš„æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹åº”å½“ä¼šè¢«é˜»å¡ï¼Œé‡æ–°å¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆè®¡æ•°å™¨ä¸ºç©ºåˆ™ä¸ä¼šå½±å“æ–°çº¿ç¨‹çš„è®¡æ•°å™¨ï¼Œç›¸äº’ç‹¬ç«‹ã€‚å½“å‰çº¿ç¨‹åº”å½“ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸã€‚å½“ç„¶å‚æ•°ä¹Ÿä¼šè¢«ä¿ç•™ï¼‰ 2.2.2 Java è™šæ‹Ÿæœºæ ˆï¼ˆJava Virtual Machine Stacksï¼‰ æˆ‘ä»¬ç»å¸¸å°† Java å†…å­˜åˆ†ä¸ºå †å†…å­˜ï¼ˆHeapï¼‰å’Œæ ˆå†…å­˜ï¼ˆStackï¼‰ï¼Œè¿™ç§åˆ†æ³•ä¸­æ‰€æŒ‡çš„æ ˆå°±æ˜¯ Java è™šæ‹Ÿæœºæ ˆï¼Œæˆ–è€…è¯´æ˜¯è™šæ‹Ÿæœºæ ˆä¸­ å±€éƒ¨å˜é‡è¡¨ éƒ¨åˆ†ã€‚ æ¦‚è¿°ï¼šæè¿° Java æ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼Œæ¯ä¸ªæ–¹æ³•ä»è°ƒç”¨ç›´è‡³æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚ä½œç”¨ï¼šå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚ ç‰¹ç‚¹ï¼š1.çº¿ç¨‹ç§æœ‰ã€‚2.ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒã€‚ åœ¨Javaè™šæ‹Ÿæœºè§„èŒƒä¸­ï¼Œå¯¹è¿™ä¸ªåŒºåŸŸè§„å®šäº†ä¸¤ç§å¼‚å¸¸çŠ¶å†µï¼šå¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ï¼Œå°†æŠ›å‡ºStackOverflowErrorå¼‚å¸¸ï¼›å¦‚æœè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼ˆå½“å‰å¤§éƒ¨åˆ†çš„Javaè™šæ‹Ÿæœºéƒ½å¯åŠ¨æ€æ‰©å±•ï¼Œåªä¸è¿‡Javaè™šæ‹Ÿæœºè§„èŒƒä¸­ä¹Ÿå…è®¸å›ºå®šé•¿åº¦çš„è™šæ‹Ÿæœºæ ˆï¼‰ï¼Œå¦‚æœæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šæŠ›å‡ºOutOfMemoryErrorå¼‚å¸¸ã€‚2.2.3 æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ æ¦‚è¿°ï¼šæœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨æ˜¯éå¸¸ç›¸ä¼¼çš„ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä¸è¿‡æ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯å­—èŠ‚ç ï¼‰æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„Nativeæ–¹æ³•æœåŠ¡ã€‚ ä¸è™šæ‹Ÿæœºæ ˆä¸€æ ·ï¼Œæœ¬åœ°æ–¹æ³•æ ˆåŒºåŸŸä¹Ÿä¼šæŠ›å‡ºStackOverflowErrorå’ŒOutOfMemoryErrorå¼‚å¸¸ã€‚ 2.2.4 Java å †ï¼ˆJava Heapï¼‰ javaå †æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”±è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºï¼Œå †å¾—å”¯ä¸€ç›®çš„å°±æ˜¯å­˜å‚¨å¯¹è±¡çš„å®ä¾‹ã€‚å‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨æ”¹å†…å­˜åŒºåŸŸåˆ†é…ï¼Œä½†æ˜¯éšç€JITç¼–è¯‘å™¨ï¼ˆå³æ—¶ç¼–è¯‘ï¼‰çš„å‘å±•åŠé€ƒé€¸åˆ†ææŠ€æœ¯ï¼ˆåˆ†ææŒ‡é’ˆçš„åŠ¨æ€èŒƒå›´ï¼‰çš„å‘å±•ï¼Œæ ˆä¸Šåˆ†é…ã€æ ‡é‡æ›¿æ¢å¯¼è‡´å †åˆ†é…ä¸é‚£ä¹ˆâ€œç»å¯¹â€äº†ã€‚ ä½œç”¨ï¼šæ­¤åŒºåŸŸå”¯ä¸€çš„ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ã€‚ ç‰¹ç‚¹ï¼š1.è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚2.åœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚ å¼‚å¸¸ç±»å‹ å‘ç”Ÿæ¡ä»¶ OutOfMemoryError åœ¨å †ä¸­æ²¡æœ‰å†…å­˜æ¥å®Œæˆå®ä¾‹åˆ†é…ï¼Œä¸”å †æ— æ³•å†æ‰©å±•æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ åˆ’åˆ†ï¼šæ›´å¥½çš„å›æ”¶å†…å­˜æˆ–åˆ†é…å†…å­˜ã€æ–°ç”Ÿä»£ï¼ˆEdenã€From Survivorã€To Survivorï¼‰ã€‘ã€è€å¹´ä»£ã€‘ æ–°ç”Ÿä»£ï¼šä¸»è¦å­˜æ”¾åº”ç”¨ç¨‹åºä¸­ç”Ÿå‘½å‘¨æœŸçŸ­çš„å†…å­˜å¯¹è±¡ï¼Œç»å¸¸è¢«å›æ”¶ è€ç”Ÿä»£ï¼šä¸»è¦å­˜æ”¾åº”ç”¨ç¨‹åºä¸­ç”Ÿå‘½å‘¨æœŸé•¿çš„å†…å­˜å¯¹è±¡ å¯ç‰©ç†ä¸Šä¸è¿ç»­ï¼Œé€»è¾‘ä¸Šè¿ç»­ï¼Œé€šè¿‡-Xmx,-Xmsæ¥æ§åˆ¶å †çš„æ‰©å±•ã€‚ 2.2.5 æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ æ¦‚è¿°ï¼šJava è™šæ‹Ÿæœºè§„èŒƒå°†æ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´æœ‰ä¸€ä¸ªåˆ«åå«åš Non-Heapï¼ˆéå †ï¼‰ï¼Œç›®çš„æ˜¯ä¸ Java å †åŒºåˆ†å¼€ã€‚ ä½œç”¨ï¼šå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ï¼ˆç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ï¼‰ç­‰æ•°æ®ã€‚ ç‰¹ç‚¹ï¼šçº¿ç¨‹å…±äº«ã€‚ å¼‚å¸¸ å¼‚å¸¸ç±»å‹ å‘ç”Ÿæ¡ä»¶ OutOfMemoryError å½“æ–¹æ³•åŒºæ— æ³•æ»¡è¶³å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼ŒæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ å†…å­˜ï¼šJava è™šæ‹Ÿæœºè§„èŒƒå¯¹æ–¹æ³•åŒºçš„é™åˆ¶éå¸¸å®½æ¾ï¼Œé™¤äº†å’Œ Java å †ä¸€æ ·ä¸éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´å’Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°æˆ–è€…å¯æ‰©å±•å¤–ï¼Œå¯ä»¥é€‰æ‹©ä¸å®ç°åƒåœ¾æ”¶é›†ã€‚ ç›¸å¯¹è€Œè¨€ï¼Œåƒåœ¾æ”¶é›†è¡Œä¸ºåœ¨è¿™ä¸ªåŒºåŸŸæ˜¯æ¯”è¾ƒå°‘å‡ºç°çš„ï¼Œè¿™ä¸ªåŒºåŸŸçš„å†…å­˜å›æ”¶ç›®æ ‡ä¸»è¦æ˜¯é’ˆå¯¹ å¸¸é‡æ± çš„å›æ”¶ å’Œ ç±»å‹çš„å¸è½½ã€‚ 2.2.6 è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰ æ¦‚è¿°ï¼šæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ï¼ˆç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ï¼‰ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯å°±æ˜¯å¸¸é‡æ± ã€‚ ä½œç”¨ï¼šç”¨äºå­˜æ”¾ç¼–è¯‘å™¨ç”Ÿæˆçš„å„ç§ å­—é¢é‡ å’Œ ç¬¦å·å¼•ç”¨ã€‚ åŠ¨æ€æ€§ï¼šJava è¯­è¨€å¹¶ä¸è¦æ±‚å¸¸é‡æ± ä¸€å®šåªæœ‰ç¼–è¯‘æœŸæ‰èƒ½äº§ç”Ÿï¼Œä¹Ÿå°±æ˜¯å¹¶éé¢„ç½®å…¥ Class æ–‡ä»¶ä¸­å¸¸é‡æ± çš„å†…å®¹åæ‰èƒ½è¿›å…¥æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œè¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­ï¼Œè¿™ç§ç‰¹æ€§ç”¨çš„æ¯”è¾ƒå¹¿æ³›çš„ä¾¿æ˜¯ String ç±»çš„ intern() æ–¹æ³•ã€‚ å¼‚å¸¸ å¼‚å¸¸ç±»å‹ å‘ç”Ÿæ¡ä»¶ OutOfMemoryError å› ä¸ºæ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å—åˆ°æ–¹æ³•åŒºå†…å­˜çš„é™åˆ¶ï¼Œå½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ 2.2.7 ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ æ¦‚è¿°ï¼šå¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯ Java è™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸã€‚ä½†æ˜¯è¿™éƒ¨åˆ†å†…å­˜ä¹Ÿè¢«é¢‘ç¹åœ°ä½¿ç”¨ï¼Œè€Œä¸”ä¹Ÿå¯èƒ½å¯¼è‡´ OutOfMemoryError å¼‚å¸¸å‡ºç°ã€‚ ä½œç”¨ï¼šåœ¨ JDK1.4 ä¸­æ–°åŠ å…¥äº† NIOï¼ˆNew Input/Outputï¼‰ ç±»ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäºé€šé“ï¼ˆChannelï¼‰ä¸ç¼“å†²åŒºï¼ˆBufferï¼‰çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †ä¸­çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚è¿™æ ·èƒ½åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå› ä¸ºé¿å…äº†åœ¨ Java å †å’Œ Native å †ä¸­æ¥å›å¤åˆ¶æ•°æ®ã€‚ å¼‚å¸¸ å¼‚å¸¸ç±»å‹ å‘ç”Ÿæ¡ä»¶ OutOfMemoryError ç›´æ¥å†…å­˜å¹¶ä¸å—javaå †å¤§å°çš„é™åˆ¶ï¼Œåªæ˜¯å—åˆ°ç‰©ç†å†…å­˜é™åˆ¶ï¼ŒåŠ¨æ€æ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°å†…å­˜æ—¶æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ 2.3 HotSpot è™šæ‹Ÿæœºå¯¹è±¡æ¢ç§˜ è¿™ä¸€éƒ¨åˆ†å†…å®¹å°†ä»¥ HotSpot è™šæ‹Ÿæœºå’Œå¸¸ç”¨çš„å†…å­˜åŒºåŸŸ Java å †ä¸ºä¾‹ï¼Œé˜è¿°å¯¹è±¡åˆ†é…ã€å¸ƒå±€å’Œè®¿é—®çš„å…¨è¿‡ç¨‹ã€‚ 2.3.1 å¯¹è±¡çš„åˆ›å»º æ¦‚è¿°ï¼šJava æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨ Java ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ— æ—¶æ— åˆ»éƒ½æœ‰å¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥ã€‚åœ¨è¯­è¨€å±‚é¢ä¸Šï¼Œåˆ›å»ºå¯¹è±¡é€šå¸¸ä»…ä»…æ˜¯ä¸€ä¸ª new å…³é”®å­—è€Œå·²ï¼Œè€Œåœ¨è™šæ‹Ÿæœºä¸­å¯¹è±¡çš„åˆ›å»ºåˆ™åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚ è™šæ‹Ÿæœºé‡åˆ°NewæŒ‡ä»¤ é¦–å…ˆæ£€æŸ¥æŒ‡ä»¤çš„å‚æ•°èƒ½å¦åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨å¯¹åº”çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½ã€è§£æã€åˆå§‹åŒ–è¿‡ æ²¡æœ‰åŠ è½½ï¼Œåˆ™éœ€è¦å…ˆåŠ è½½ ä¸ºæ–°ç”Ÿå¯¹è±¡åˆ†é…å†…å­˜åŒºåŸŸï¼ˆæŒ‡é’ˆç¢°æ’&amp;ç©ºé—²åˆ—è¡¨ï¼‰ çº¿ç¨‹å®‰å…¨ï¼ˆæ–¹æ¡ˆ1ï¼šå¯¹åˆ†é…å†…å­˜ç©ºé—´çš„åŠ¨ä½œåŒæ­¥ï¼›æ–¹æ¡ˆ2ï¼šæœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†² TLABï¼‰ å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½® è°ƒç”¨initæ–¹æ³• ç±»åŠ è½½æ¦‚è¿°ï¼šè™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡ new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå°†å»æ£€æŸ¥æŒ‡ä»¤å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹ã€‚ åˆ†é…å†…å­˜æ¦‚è¿°ï¼šåœ¨ç±»åŠ è½½æ£€æŸ¥é€šè¿‡åï¼Œæ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡åˆ†é…å†…å­˜ã€‚å¯¹è±¡æ‰€éœ€å†…å­˜çš„å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯ä»¥å®Œå…¨ç¡®å®šï¼Œä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡ç­‰åŒäºæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜ä» Java å †ä¸­åˆ’åˆ†å‡ºæ¥ã€‚ åˆ†é…æ–¹å¼ï¼š1.æŒ‡é’ˆç¢°æ’ï¼ˆBump the Pointerï¼‰ï¼šå‡è®¾ Java å †ä¸­å†…å­˜æ˜¯ç»å¯¹è§„æ•´çš„ï¼Œæ‰€æœ‰ç”¨è¿‡çš„å†…å­˜éƒ½æ”¾åœ¨ä¸€è¾¹ï¼Œç©ºé—²çš„å†…å­˜æ”¾åœ¨å¦ä¸€è¾¹ï¼Œä¸­é—´æ”¾ç€ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºåˆ†ç•Œç‚¹çš„æŒ‡ç¤ºå™¨ï¼Œé‚£æ‰€åˆ†é…å†…å­˜å°±ä»…ä»…æ˜¯æŠŠå“ªä¸ªæŒ‡é’ˆå‘ç©ºé—²é‚£è¾¹æŒªåŠ¨ä¸€æ®µä¸å¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦»ã€‚2.ç©ºé—²åˆ—è¡¨ï¼ˆFree Listï¼‰ï¼šå¦‚æœ Java å †ä¸­çš„å†…å­˜ä¸æ˜¯è§„æ•´çš„ï¼Œå·²ä½¿ç”¨çš„å†…å­˜å’Œç©ºé—²çš„å†…å­˜ç›¸äº’äº¤é”™ï¼Œé‚£å°±æ²¡æœ‰åŠæ³•ç®€å•åœ°è¿›è¡ŒæŒ‡é’ˆç¢°æ’äº†ï¼Œè™šæ‹Ÿæœºå°±å¿…é¡»ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œè®°å½•ä¸Šå“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„ï¼Œåœ¨åˆ†é…çš„æ—¶å€™ä»åˆ—è¡¨ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´åˆ’åˆ†ç»™å¯¹è±¡å®ä¾‹ï¼Œå¹¶æ›´æ–°åˆ—è¡¨ä¸Šçš„è®°å½•ã€‚é€‰æ‹©å“ªç§åˆ†é…æ–¹å¼ç”± Java å †æ˜¯å¦è§„æ•´å†³å®šï¼Œè€Œ Java å †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰å‹ç¼©æ•´ç†åŠŸèƒ½å†³å®šã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ Serialã€ParNew ç­‰å¸¦ Compact è¿‡ç¨‹çš„æ”¶é›†å™¨æ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨çš„åˆ†é…ç®—æ³•æ˜¯æŒ‡é’ˆç¢°æ’ï¼Œè€Œä½¿ç”¨ CMS è¿™ç§åŸºäº Mark-Sweep ç®—æ³•çš„æ”¶é›†å™¨æ—¶ï¼Œé€šå¸¸é‡‡ç”¨ç©ºé—²åˆ—è¡¨ã€‚ åŒæ­¥æ§åˆ¶æ¦‚è¿°ï¼šå¯¹è±¡åˆ›å»ºåœ¨è™šæ‹Ÿæœºä¸­æ˜¯éå¸¸é¢‘ç¹çš„è¡Œä¸ºï¼Œå³ä½¿æ˜¯ä»…ä»…ä¿®æ”¹ä¸€ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹ä¹Ÿå¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯èƒ½å‡ºç°æ­£åœ¨ç»™å¯¹è±¡ A åˆ†é…åœ°å€ï¼ŒæŒ‡é’ˆè¿˜æ²¡æ¥å¾—åŠä¿®æ”¹ï¼Œå¯¹è±¡ B åˆåŒæ—¶ä½¿ç”¨äº†åŸæ¥çš„æŒ‡é’ˆæ¥åˆ†é…å†…å­˜çš„æƒ…å†µã€‚è§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æ–¹æ¡ˆã€‚ æ–¹æ¡ˆä¸€ï¼šå¯¹åˆ†é…å†…å­˜ç©ºé—´çš„åŠ¨ä½œè¿›è¡ŒåŒæ­¥å¤„ç†ï¼Œè™šæ‹Ÿæœºé‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯• çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§ã€‚æ–¹æ¡ˆäºŒï¼šå°†å†…å­˜åˆ†é…çš„åŠ¨ä½œæŒ‰ç…§çº¿ç¨‹åˆ’åˆ†åœ¨ä¸åŒçš„ç©ºé—´ä¸­è¿›è¡Œï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨ Java å †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜ï¼Œç§°ä¸º æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²ï¼ˆThread Local Allocation Buffer, TLABï¼‰ ã€‚å“ªä¸ªçº¿ç¨‹éœ€è¦åˆ†é…å†…å­˜ï¼Œå°±åœ¨å“ªä¸ªçº¿ç¨‹çš„ TLAB ä¸Šåˆ†é…ï¼Œåªæœ‰ TLAB ç”¨å®Œå¹¶åˆ†é…æ–°çš„ TLAB æ—¶ï¼Œæ‰éœ€è¦åŒæ­¥é”å®šã€‚é€šè¿‡ -XX:+/-UseTLAB å‚æ•°è®¾å®šæ˜¯å¦ä½¿ç”¨ TLABã€‚ åˆå§‹åŒ–æ¦‚è¿°ï¼šå†…å­˜åˆ†é…å®Œæˆåï¼Œè™šæ‹Ÿæœºéœ€è¦å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆä¸åŒ…æ‹¬å¯¹è±¡å¤´ï¼‰ï¼Œå¦‚æœä½¿ç”¨ TLABï¼Œè¿™ä¸€è¿‡ç¨‹å°±å¯ä»¥æå‰è‡³ TLAB åˆ†é…æ—¶è¿›è¡Œã€‚ä½œç”¨ï¼šä¿è¯å¯¹è±¡çš„å®ä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå€¼å°±ç›´æ¥ä½¿ç”¨ï¼Œç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹å¯¹åº”çš„é›¶å€¼ã€‚ å¯¹è±¡å¤´ï¼ˆObject Headerï¼‰æ¦‚è¿°ï¼šæ¥ä¸‹æ¥ï¼Œè™šæ‹Ÿæœºè¦ä¸ºå¯¹è±¡å¤´æ•°æ®è¿›è¡Œè®¾ç½®ã€‚ï¼ˆe.g. å¯¹è±¡çš„å®ä¾‹ç±»ã€ç±»çš„å…ƒæ•°æ®ä¿¡æ¯çš„åœ°å€ã€å¯¹è±¡çš„å“ˆå¸Œç ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ï¼‰ initæ¦‚è¿°ï¼šåœ¨ä¸Šé¢æ­¥éª¤å®Œæˆåï¼Œä»è™šæ‹Ÿæœºçš„è§’åº¦æ¥çœ‹ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡å·²ç»äº§ç”Ÿäº†ï¼Œä½†ä» Java ç¨‹åºçš„è§’åº¦æ¥çœ‹ï¼Œå¯¹è±¡çš„åˆ›å»ºæ‰åˆšåˆšå¼€å§‹ï¼Œ&lt;init&gt; æ–¹æ³•è¿˜æ²¡æœ‰è¢«æ‰§è¡Œï¼Œæ‰€æœ‰çš„å­—æ®µè¿˜ä¸ºé›¶å€¼ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œ new æŒ‡ä»¤ä¹‹åä¼šæ¥ç€æ‰§è¡Œ &lt;init&gt; æ–¹æ³•ï¼Œå°†å¯¹è±¡æŒ‰ç…§æˆ‘ä»¬çš„æ„æ„¿è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ ·ä¸€ä¸ªçœŸæ­£çš„å¯¹è±¡æ‰ç®—å®Œå…¨äº§ç”Ÿã€‚ 2.3.2å¯¹è±¡çš„å†…å­˜å¸ƒå±€ åœ¨ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å¸ƒå±€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ 3 å—åŒºåŸŸã€‚ å¯¹è±¡å¤´ï¼ˆå­˜æ”¾å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®&amp;ç±»å‹æŒ‡é’ˆï¼‰ å®ä¾‹æ•°æ® å¯¹é½å¡«å…… 2.3.2.1 å¯¹è±¡å¤´ï¼ˆHeaderï¼‰ HotSpot è™šæ‹Ÿæœºçš„å¯¹è±¡å¤´åŒ…æ‹¬ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼Œå­˜å‚¨è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®çš„ï¼ˆMark Wordï¼‰ å’Œ ç±»å‹æŒ‡é’ˆã€‚ ç¬¬ä¸€éƒ¨åˆ†ï¼šMark Word æ¦‚è¿°ï¼šç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚ï¼ˆHashCodeã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰é”ã€åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ï¼‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®çš„é•¿åº¦åœ¨ 32 ä½å’Œ 64 ä½çš„è™šæ‹Ÿæœºä¸­ï¼ˆæœªå¼€å¯å‹ç¼©æŒ‡é’ˆï¼‰åˆ†åˆ«ä¸º 32bit å’Œ 64bitã€‚ å†…å­˜ï¼šå¯¹è±¡éœ€è¦å­˜å‚¨çš„è¿è¡Œæ—¶æ•°æ®å¾ˆå¤šï¼Œå…¶å®å·²ç»è¶…å‡ºäº† 32ä½ã€64ä½ Bitmap ç»“æ„æ‰€èƒ½è®°å½•çš„é™åº¦ï¼Œä½†æ˜¯å¯¹è±¡å¤´ä¿¡æ¯æ˜¯ä¸å¯¹è±¡è‡ªèº«å®šä¹‰çš„æ•°æ®æ— å…³çš„é¢å¤–å­˜å‚¨æˆæœ¬ï¼Œè€ƒè™‘åˆ°è™šæ‹Ÿæœºçš„ç©ºé—´æ•ˆç‡ï¼ŒMark Word è¢«è®¾è®¡æˆä¸€ä¸ª éå›ºå®šçš„æ•°æ®ç»“æ„ ä»¥ä¾¿åœ¨æå°çš„ç©ºé—´å†…å­˜å‚¨å°½é‡å¤šçš„ä¿¡æ¯ï¼Œå®ƒä¼šæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ã€‚ HotSpot è™šæ‹Ÿæœºå¯¹è±¡å¤´ Mark Word è¡¨å¦‚ä¸‹ ç¬¬äºŒéƒ¨åˆ†ï¼šç±»å‹æŒ‡é’ˆ æ¦‚è¿°ï¼šå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€‚ Reminderå¹¶ä¸æ˜¯æ‰€æœ‰çš„è™šæ‹Ÿæœºå®ç°éƒ½å¿…é¡»åœ¨å¯¹è±¡æ•°æ®ä¸Šä¿ç•™ç±»å‹æŒ‡é’ˆï¼Œæ¢å¥è¯è¯´ï¼ŒæŸ¥æ‰¾å¯¹è±¡çš„å…ƒæ•°æ®å¹¶ä¸ä¸€å®šè¦ç»è¿‡å¯¹è±¡æœ¬èº«ã€‚(è§2.2.3èŠ‚) æ•°ç»„å¯¹è±¡ï¼šå¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ª Java æ•°ç»„ï¼Œé‚£åœ¨å¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯ä»¥é€šè¿‡æ™®é€š Java å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯ç¡®å®š Java å¯¹è±¡çš„å¤§å°ï¼Œä½†æ˜¯ä»æ•°ç»„çš„å…ƒæ•°æ®ä¸­å´æ— æ³•ç¡®å®šæ•°ç»„çš„å¤§å°ã€‚ 2.3.2.2 å®ä¾‹æ•°æ®ï¼ˆInstance Dataï¼‰ æ¦‚è¿°ï¼šè¿™éƒ¨åˆ†æ˜¯å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿæ˜¯åœ¨ç¨‹åºä»£ç ä¸­æ‰€å®šä¹‰çš„å„ç§ç±»å‹å­—æ®µå†…å®¹ã€‚æ— è®ºæ˜¯ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œè¿˜æ˜¯åœ¨å­ç±»ä¸­å®šä¹‰çš„ï¼Œéƒ½éœ€è¦è®°å½•èµ·æ¥ã€‚ å­˜å‚¨é¡ºåºï¼šè¿™éƒ¨åˆ†çš„å­˜å‚¨é¡ºåºä¼šå—åˆ°è™šæ‹Ÿæœº åˆ†é…ç­–ç•¥å‚æ•°ï¼ˆFieldsAllocationStyleï¼‰ å’Œå­—æ®µåœ¨ Java æºç ä¸­å®šä¹‰é¡ºåºçš„å½±å“ã€‚HotSpot è™šæ‹Ÿæœºé»˜è®¤çš„åˆ†é…ç­–ç•¥ä¸º longs/doubles =&gt; ints =&gt; shorts/chars =&gt; bytes/booleans =&gt; oopsï¼ˆOrdinary Object Pointersï¼‰ï¼Œä»åˆ†é…ç­–ç•¥ä¸­å¯ä»¥çœ‹å‡ºï¼Œç›¸åŒå®½åº¦çš„å­—æ®µæ€»æ˜¯è¢«åˆ†é…åˆ°ä¸€èµ·ã€‚åœ¨æ»¡è¶³è¿™ä¸ªå‰ææ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåœ¨çˆ¶ç±»ä¸­å®šä¹‰çš„å˜é‡ä¼šå‡ºç°åœ¨å­ç±»ä¹‹å‰ã€‚å¦‚æœ CompactFields å‚æ•°å€¼ä¸º trueï¼ˆé»˜è®¤ä¸º trueï¼‰ï¼Œé‚£ä¹ˆå­ç±»ä¹‹ä¸­è¾ƒçª„çš„å˜é‡ä¹Ÿå¯èƒ½ä¼šæ’å…¥åˆ°çˆ¶ç±»å˜é‡çš„ç©ºéš™ä¹‹ä¸­ã€‚ 2.3.2.3 å¯¹é½å¡«å……ï¼ˆPaddingï¼‰ æ¦‚è¿°ï¼šä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œå®ƒä»…ä»…èµ·ç€å ä½ç¬¦çš„ä½œç”¨ã€‚ åŸç†ï¼šç”±äº HotSpot VM çš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚ å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´å€æ•°ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¯¹è±¡çš„å¤§å°å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´å€æ•°ã€‚è€Œå¯¹è±¡å¤´éƒ¨åˆ†æ­£å¥½æ˜¯ 8 å­—èŠ‚çš„æ•´å€æ•°ï¼ˆ 1 å€æˆ– 2 å€ï¼‰ï¼Œå› æ­¤ï¼Œå½“å¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†æ²¡æœ‰å¯¹é½æ—¶ï¼Œå°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨ã€‚ 2.3.3 å¯¹è±¡çš„è®¿é—®å®šä½ æ¦‚è¿°ï¼šå»ºç«‹å¯¹è±¡æ˜¯ä¸ºäº†ä½¿ç”¨å¯¹è±¡ï¼Œæˆ‘ä»¬çš„ Java ç¨‹åºéœ€è¦é€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚ç”±äº reference ç±»å‹åœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­åªè§„å®šäº†ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶æ²¡æœ‰å®šä¹‰è¿™ä¸ªå¼•ç”¨åº”è¯¥é€šè¿‡ä½•ç§æ–¹å¼å»å®šä½ã€è®¿é—®å †ä¸­çš„å¯¹è±¡çš„å…·ä½“ä½ç½®ï¼Œæ‰€ä»¥ å¯¹è±¡è®¿é—®æ–¹å¼ä¹Ÿæ˜¯å–å†³äºè™šæ‹Ÿæœºå®ç°è€Œå®šçš„ã€‚ç›®å‰ä¸»æµçš„è®¿é—®æ–¹å¼æœ‰ä¸¤ç§ã€‚ å¥æŸ„è®¿é—®ï¼šJava å †ä¸­å°†ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreference ä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®ä¾‹æ•°æ®ä¸ç±»å‹æ•°æ®å„è‡ªçš„å…·ä½“åœ°å€ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ç›´æ¥æŒ‡é’ˆï¼šJava å †å¯¹è±¡çš„å¸ƒå±€ä¸­å¿…é¡»è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»å‹æ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œè€Œ reference ä¸­å­˜å‚¨çš„ç›´æ¥å°±æ˜¯å¯¹è±¡åœ°å€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ¯”è¾ƒï¼š1.å¥æŸ„è®¿é—®ï¼šä½¿ç”¨å¥æŸ„è®¿é—®çš„æœ€å¤§å¥½å¤„å°±æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ ç¨³å®šçš„ å¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡è¢«ç§»åŠ¨ï¼ˆåƒåœ¾æ”¶é›†æ—¶ç§»åŠ¨å¯¹è±¡æ˜¯éå¸¸æ™®éçš„è¡Œä¸ºï¼‰æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®ä¾‹æ•°æ®æŒ‡é’ˆï¼Œè€Œ reference æœ¬èº«ä¸éœ€è¦ä¿®æ”¹ã€‚2.æŒ‡é’ˆè®¿é—®ï¼šä½¿ç”¨ç›´æ¥è®¿é—®æœ€å¤§çš„å¥½å¤„å°±æ˜¯ é€Ÿåº¦å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ï¼Œç”±äºå¯¹è±¡çš„è®¿é—®åœ¨ Java ä¸­éå¸¸é¢‘ç¹ï¼Œå› æ­¤è¿™ç±»å¼€é”€ç§¯å°‘æˆå¤šåä¹Ÿæ˜¯ä¸€é¡¹éå¸¸å¯è§‚çš„æ‰§è¡Œæˆæœ¬ã€‚ Sun HotSpot ä½¿ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹å¼è¿›è¡Œå¯¹è±¡è®¿é—®çš„ï¼Œä½†ä»æ•´ä¸ªè½¯ä»¶å¼€å‘çš„èŒƒå›´æ¥çœ‹ï¼Œå„ç§è¯­è¨€å’Œæ¡†æ¶ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æƒ…å†µä¹Ÿååˆ†å¸¸è§ã€‚ 2.4 å®æˆ˜ï¼šOutOfMemoryError å¼‚å¸¸ åœ¨ Java è™šæ‹Ÿæœºè§„èŒƒçš„æè¿°ä¸­ï¼Œé™¤äº†ç¨‹åºè®¡æ•°å™¨å¤–ï¼Œè™šæ‹Ÿæœºå†…å­˜çš„å…¶ä»–å‡ ä¸ªè¿è¡Œæ—¶åŒºåŸŸéƒ½æœ‰å‘ç”Ÿ OutOfMemoryï¼ˆOOMï¼‰å¼‚å¸¸çš„å¯èƒ½ã€‚ ç›®çš„ï¼š1. é€šè¿‡ä»£ç éªŒè¯ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æè¿°çš„å„ä¸ªè¿è¡Œæ—¶åŒºåŸŸçš„å­˜å‚¨å†…å®¹ã€‚2. é‡åˆ°å®é™…çš„å†…å­˜æº¢å‡ºå¼‚å¸¸æ—¶ï¼Œèƒ½æ ¹æ®å¼‚å¸¸çš„ä¿¡æ¯å¿«é€Ÿåˆ¤æ–­å“ªä¸ªåŒºåŸŸçš„å†…å­˜æº¢å‡ºã€‚3. äº†è§£ä»€ä¹ˆæ ·çš„ä»£ç å¯èƒ½ä¼šå¯¼è‡´è¿™äº›åŒºåŸŸå†…å­˜æº¢å‡ºï¼Œå¹¶äº†è§£å¦‚ä½•å¤„ç†ã€‚ VM Args è®¾ç½® Eclipse IDEï¼šDebug Configurations =&gt; Java Application =&gt; YoungGenGC =&gt; Arguments ä¸­çš„ VM arguments ä¸­è¿›è¡Œä¹¦å†™ï¼ˆä¹¦å†™å‚æ•°ä»¥ - å¼€å¤´ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼‰ã€‚ æ§åˆ¶å°ï¼šç›´æ¥è·Ÿåœ¨ Java å‘½ä»¤ä¹‹åä¹¦å†™ã€‚ æœ¬äººè¿è¡Œåœ¨ Mac ç³»ç»Ÿä¸‹ï¼Œä½¿ç”¨ IDEA è¿›è¡Œé…ç½®ï¼Œæ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºğŸ‘‡ã€‚ 1\. æ‰“å¼€ Run Configurationsï¼ˆâŒƒ + âŒ¥ + R é€‰æ‹© 0 ï¼‰æˆ–è€…ï¼ˆâŒ˜ + â‡§ + A è¾“å…¥ run é€‰æ‹© runâ€¦ï¼‰ã€‚ 2\. ç‚¹å‡»å¹¶æ‰“å¼€ VM optionsã€‚ 3\. å†™å…¥è™šæ‹Ÿæœºå¯åŠ¨å‚æ•°ã€‚ 4.Apply å¹¶ Runã€‚ 2.4.1 - Java å †æº¢å‡º æ¦‚è¿°ï¼šJava å †ç”¨äºå­˜å‚¨å¯¹è±¡å®ä¾‹ï¼Œåªè¦ä¸æ–­åœ°åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”ä¿è¯ GC Roots åˆ°å¯¹è±¡ä¹‹é—´æœ‰å¯è¾¾è·¯å¾„ æ¥é¿å…åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤è¿™äº›å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨å¯¹è±¡æ•°é‡åˆ°è¾¾æœ€å¤§å †çš„å®¹é‡é™åˆ¶åå°±ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚ æµ‹è¯•ç¯å¢ƒï¼š 12345-verbose:gc-Xms20M // æœ€å° GC å¯åŠ¨-Xmx20M // æœ€å¤§ GC å¯åŠ¨-XX:+PrintGCDetails // æ‰“å°è®¾ç½®-XX:SurvivorRatio=8 // å­˜æ´»å¯¹è±¡æ¯”ç‡ æµ‹è¯•ä»£ç ï¼šHeapOOM 123456789101112131415import java.util.*;public class Main &#123; private static class OOMObject &#123; &#125; public static void main(String[] args) &#123; List&lt;OOMObject&gt; list = new ArrayList&lt;OOMObject&gt;(); while (true) &#123; list.add(new OOMObject()); &#125; &#125;&#125; è¿è¡Œç»“æœï¼š 1java.lang.OutOfMemoryError: Java heap space åˆ†æï¼šJava å †å†…å­˜çš„ OOM å¼‚å¸¸æ˜¯æ—¶æœºåº”ç”¨ä¸­å¸¸è§çš„å†…å­˜æº¢å‡ºå¼‚å¸¸æƒ…å†µã€‚å½“å‡ºç° Java å †å†…å­˜æº¢å‡ºæ—¶ï¼Œå¼‚å¸¸å †æ ˆä¿¡æ¯ java.lang.OutOfMemoryError ä¼šè·Ÿç€è¿›ä¸€æ­¥æç¤º Java heap spaceã€‚ è§£å†³æ–¹å¼ å †è½¬å‚¨å¿«ç…§ï¼šè¦è§£å†³è¿™ä¸ªåŒºåŸŸçš„å¼‚å¸¸ï¼Œä¸€èˆ¬çš„æ‰‹æ®µæ˜¯å…ˆé€šè¿‡å†…å­˜æ˜ åƒåˆ†æå·¥å…·å¯¹ Dump å‡ºæ¥çš„å †è½¬å‚¨å¿«ç…§è¿›è¡Œåˆ†æï¼Œé‡ç‚¹æ˜¯ç¡®è®¤å†…å­˜ä¸­çš„å¯¹è±¡æ˜¯å¦æ˜¯å¿…è¦çš„ï¼Œä¹Ÿå°±æ˜¯è¦åˆ†æ¸…æ¥šåˆ°åº•æ˜¯å‡ºç°äº†å†…å­˜æ³„éœ²ï¼ˆMemory Leakï¼‰è¿˜æ˜¯å†…å­˜æº¢å‡ºï¼ˆMemory Overflowï¼‰ã€‚ å†…å­˜æ³„éœ²ï¼šè¿›ä¸€æ­¥é€šè¿‡å·¥å…·æŸ¥çœ‹æ³„éœ²å¯¹è±¡åˆ° CG Roots çš„å¼•ç”¨é“¾ï¼Œäºæ˜¯å°±èƒ½æ‰¾åˆ°å†…å­˜æ³„éœ²å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„è·¯å¾„ä¸ GC Roots ç›¸å…³è”å¹¶å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•è‡ªåŠ¨å›æ”¶å®ƒä»¬çš„ã€‚æŒæ¡äº†æ³„éœ²å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ä»¥åŠ GC Roots å¼•ç”¨é“¾çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥æ¯”è¾ƒå‡†ç¡®åœ°å®šä½å‡ºæ³„éœ²ä»£ç çš„ä½ç½®ã€‚ å†…å­˜æº¢å‡ºï¼šå¦‚æœä¸å­˜åœ¨æ³„éœ²ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å†…å­˜ä¸­çš„å¯¹è±¡ç¡®å®éƒ½å¿…é¡»è¿˜æ´»ç€ï¼Œé‚£å°±åº”å½“æ£€æŸ¥è™šæ‹Ÿæœºçš„å †å‚æ•°ï¼ˆ-Xmx ä¸ -Xmsï¼‰ï¼Œä¸æœºå™¨ç‰©ç†å†…å­˜å¯¹è±¡çœ‹æ˜¯å¦è¿˜å¯ä»¥è°ƒå¤§ï¼Œä»ä»£ç ä¸Šæ£€æŸ¥æ˜¯å¦å­˜åœ¨æŸäº›å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¿‡é•¿ã€æŒæœ‰çŠ¶æ€è¿‡é•¿çš„æƒ…å†µï¼Œå°è¯•å‡å°‘ç¨‹åºè¿è¡ŒæœŸçš„å†…å­˜æ¶ˆè€—ã€‚ 2.4.2 - è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º æ¦‚è¿°ï¼šç”±äºåœ¨ HotSpot è™šæ‹Ÿæœºä¸­å¹¶ä¸åŒºåˆ†è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œå› æ­¤ï¼Œå¯¹äº HotSpot æ¥è¯´ï¼Œè™½ç„¶ -Xoos å‚æ•°ï¼ˆè®¾ç½®æœ¬åœ°æ–¹æ³•æ ˆå¤§å°ï¼‰å­˜åœ¨ï¼Œä½†å®é™…ä¸Šæ˜¯æ— æ•ˆçš„ï¼Œæ ˆå®¹é‡åªç”± -Xss å‚æ•°è®¾å®šã€‚å…³äºè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œåœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­æè¿°äº†ä¸¤ç§å¼‚å¸¸ã€‚ å¼‚å¸¸ç±»å‹ å‘ç”Ÿæ¡ä»¶ StackOverflowError çº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦æ—¶æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ OutOfMemoryError æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚ è¿™é‡ŒæŠŠå¼‚å¸¸åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œçœ‹ä¼¼æ›´åŠ ä¸¥è°¨ï¼Œä½†å´å­˜åœ¨ä¸€äº›ç›¸äº’é‡å çš„åœ°æ–¹ï¼šæ–¹æ ˆç©ºé—´æ— æ³•ç»§ç»­åˆ†é…æ—¶ï¼Œåˆ°åº•æ˜¯å†…å­˜å¤ªå°ï¼Œè¿˜æ˜¯å·²ä½¿ç”¨çš„æ ˆç©ºé—´å¤ªå¤§ï¼Œå…¶æœ¬è´¨ä¸Šåªæ˜¯å¯¹åŒä¸€ä»¶äº‹çš„ä¸¤ç§æè¿°è€Œå·²ã€‚ 2.4.2.1 - StackOverflowError æµ‹è¯•ç¯å¢ƒï¼šåœ¨æ­¤æµ‹è¯•ä¸­ï¼Œå°†æµ‹è¯•èŒƒå›´é™åˆ¶äºå•çº¿ç¨‹ä¸­æ“ä½œã€‚1. ä½¿ç”¨ -Xss å‚æ•°å‡å°‘æ ˆå†…å­˜å®¹é‡ï¼Œç»“æœæŠ›å‡º SOF å¼‚å¸¸ï¼Œå¼‚å¸¸å‡ºç°æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å°ã€‚2. å®šä¹‰äº†å¤§é‡çš„æœ¬åœ°å˜é‡ï¼Œå¢å¤§æ­¤æ–¹æ³•æ ˆä¸­æœ¬åœ°å˜é‡è¡¨é•¿åº¦ã€‚ç»“æœæŠ›å‡º SOF å¼‚å¸¸æ—¶è¾“å‡ºçš„å †æ ˆæ·±åº¦ç›¸åº”ç¼©å°ã€‚ JavaVMStackSOF: 1234567891011121314151617181920212223242526//JavaVMStackSOF//VM Args: -Xss160k // æ ˆå†…å­˜å®¹é‡public class Main &#123; public static class JavaVMStackSOF&#123; private int stackLength = 1; public void stackLeak() &#123; stackLength++; stackLeak(); &#125; &#125; public static void main(String[] args) throws Throwable &#123; JavaVMStackSOF oom = new JavaVMStackSOF(); try &#123; oom.stackLeak(); &#125; catch (Throwable e) &#123; System.out.println("Stack length: " + oom.stackLength); throw e; &#125; &#125;&#125; è¿è¡Œç»“æœ 123Exception in thread &quot;main&quot; Stack length: 771java.lang.StackOverflowError at Main$JavaVMStackSOF.stackLeak(Main.java:8) åˆ†æï¼šåœ¨å•ä¸ªçº¿ç¨‹ä¸‹ï¼Œæ— è®ºæ˜¯ç”±äºæ ˆå¸§å¤ªå¤§è¿˜æ˜¯è™šæ‹Ÿæœºæ ˆå®¹é‡å¤ªå°ï¼Œå½“å†…å­˜æ— æ³•åˆ†é…çš„æ—¶å€™ï¼Œè™šæ‹ŸæœºæŠ›å‡ºçš„éƒ½æ˜¯ StackOverflowError å¼‚å¸¸ã€‚ä½†æ˜¯è¿™æ ·äº§ç”Ÿçš„å†…å­˜æº¢å‡ºå¼‚å¸¸ä¸æ ˆç©ºé—´æ˜¯å¦è¶³å¤Ÿå¤§å¹¶ä¸å­˜åœ¨ä»»ä½•è”ç³»ï¼Œæˆ–è€…ç¡®åˆ‡åœ°è¯´ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºæ¯ä¸ªçº¿ç¨‹çš„æ ˆåˆ†é…çš„å†…å­˜è¶Šå¤§ï¼Œåè€Œè¶Šå®¹æ˜“äº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚ ç†è§£ï¼šæ“ä½œç³»ç»Ÿåˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„å†…å­˜æ˜¯æœ‰é™çš„ï¼Œè™šæ‹Ÿæœºæä¾›äº†å‚æ•°æ¥æ§åˆ¶ Java å †å’Œæ–¹æ³•åŒºçš„è¿™ä¸¤éƒ¨åˆ†å†…å­˜çš„æœ€å¤§å€¼ã€‚å‰©ä½™çš„å†…å­˜ -Xmsï¼ˆæœ€å¤§å †å®¹é‡ï¼‰ -MaxPermSizeï¼ˆæœ€å¤§æ–¹æ³•åŒºå®¹é‡ï¼‰ï¼Œç¨‹åºè®¡æ•°å™¨æ¶ˆè€—å†…å­˜å¾ˆå°ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚å¦‚æœè™šæ‹Ÿæœºè¿›ç¨‹æœ¬èº«è€—è´¹çš„å†…å­˜ä¸è®¡ç®—åœ¨å†…ï¼Œå‰©ä¸‹çš„å†…å­˜å°±ç”±è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆç“œåˆ†äº†ã€‚æ¯ä¸ªçº¿ç¨‹åˆ†é…åˆ°çš„æ ˆå®¹é‡è¶Šå¤§ï¼Œå¯ä»¥å»ºç«‹çš„çº¿ç¨‹æ•°é‡è‡ªç„¶è¶Šå°‘ï¼Œå»ºç«‹çº¿ç¨‹æ—¶å°±è¶Šå®¹æ˜“æŠŠå‰©ä¸‹çš„å†…å­˜è€—å°½ã€‚ æ¢ç´¢ï¼šå‡ºç° SOF å¼‚å¸¸æ—¶æœ‰é”™è¯¯å †æ ˆå¯ä»¥é˜…è¯»ï¼Œç›¸å¯¹æ¥è¯´ï¼Œæ¯”è¾ƒå®¹æ˜“æ‰¾åˆ°é—®é¢˜çš„æ‰€åœ¨ã€‚è€Œä¸”ï¼Œå¦‚æœä½¿ç”¨è™šæ‹Ÿæœºé»˜è®¤å‚æ•°ï¼Œæ ˆæ·±åº¦åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ˆå› ä¸ºæ¯ä¸ªæ–¹æ³•å‹å…¥æ ˆçš„å¸§å¤§å°å¹¶ä¸æ˜¯ä¸€æ ·çš„ï¼‰è¾¾åˆ° 1000 - 2000 å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œå¯¹äºæ­£å¸¸çš„æ–¹æ³•è°ƒç”¨ï¼ˆåŒ…æ‹¬é€’å½’ï¼‰ï¼Œè¿™ä¸ªæ·±åº¦åº”è¯¥å®Œå…¨å¤Ÿç”¨äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœå»ºç«‹è¿‡å¤šçº¿ç¨‹å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œåœ¨ä¸èƒ½å‡å°‘çº¿ç¨‹æ•°æˆ–è€…æ›´æ¢ 64 ä½è™šæ‹Ÿæœºçš„æƒ…å†µä¸‹ï¼Œå°±åªèƒ½é€šè¿‡ å‡å°‘æœ€å¤§å † å’Œ å‡å°‘æ ˆå®¹é‡ æ¥æ¢æ›´å¤šçš„çº¿ç¨‹ã€‚ 2.4.2.2 - OutOfMemoryError æµ‹è¯•ç¯å¢ƒæ³¨æ„ï¼šä¸‹é¢è¿™å—ä»£ç è¿è¡Œæœ‰é£é™©ï¼Œä¹¦ä¸Šè¯´åœ¨windowsä¸Šä¼šé€ æˆç³»ç»Ÿå‡æ­»ï¼Œæˆ‘åœ¨macä¸Šçš„IDEAä¸Šè¿è¡Œï¼Œä¹Ÿæ­»æœºäº†ï¼Œæµ‹äº†ä¸¤æ¬¡ï¼Œéƒ½å¯¼è‡´äº†ç³»ç»Ÿå‡æ­»ã€‚ JavaVMStackOOM 12345678910111213141516171819202122232425262728293031323334public class Main &#123; //VM Args: -Xss2M // æ ˆå†…å­˜å®¹é‡ //æµ‹è¯•ä»£ç ï¼šåˆ›å»ºçº¿ç¨‹å¯¼è‡´å†…å­˜æº¢å‡ºå¼‚å¸¸ private void dontStop() &#123; while (true) &#123; &#125; &#125; // å¾ªç¯å¼€å¯çº¿ç¨‹ public void stackLeakByThread() &#123; while (true) &#123; Thread thread = new Thread(new Runnable() &#123; @Override public void run() &#123; dontStop(); &#125; &#125;); thread.start(); &#125; &#125; public static void main(String[] args) &#123; Main oom = new Main(); oom.stackLeakByThread(); &#125;&#125; è¿è¡Œç»“æœï¼ˆå‚è€ƒåˆ«äººçš„ç»“æœï¼‰ 1Exception in thread â€œmainâ€ java.lang.OutOfMemoryError: unable to create new native thread è¿™æ˜¯macæ­»æœºæ—¶ç”¨æ‰‹æœºç…§çš„(ï¼›â€²âŒ’`)cpuå·²çˆ†è¡¨ 2.4.3 - æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º æ¦‚è¿°ï¼šç”±äºè¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤è¿™ä¸¤ä¸ªåŒºåŸŸçš„æº¢å‡ºæµ‹è¯•å°±æ”¾åœ¨ä¸€èµ·è¿›è¡Œã€‚ è„‘è¡¥ï¼šString.intern() æ˜¯ä¸€ä¸ª Native æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šå¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç­‰äºæ­¤ String å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›ä»£è¡¨æ± ä¸­è¿™ä¸ªå­—ç¬¦ä¸²çš„ String å¯¹è±¡ï¼›å¦åˆ™ï¼Œå°†æ­¤ String å¯¹è±¡åŒ…å«çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å¸¸é‡æ± ä¸­ï¼Œå¹¶ä¸”è¿”å›æ­¤ String å¯¹è±¡çš„å¼•ç”¨ã€‚åœ¨ JDK1.6 ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œç”±äºå¸¸é‡æ± åˆ†é…åœ¨æ°¸ä¹…ä»£å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ -XX:PermSize å’Œ -XX:MaxPermSize é™åˆ¶æ–¹æ³•åŒºçš„å¤§å°åï¼Œä»è€Œé—´æ¥é™åˆ¶å…¶ä¸­å¸¸é‡æ± çš„å®¹é‡ã€‚ 2.4.3.1 - OutOfMemoryError æµ‹è¯•ç¯å¢ƒ 12-XX:PermSize=10M // æ–¹æ³•åŒºæœ€å°å€¼-XX:MaxPermSize=10M // æ–¹æ³•åŒºæœ€å¤§å€¼ æµ‹è¯•ä»£ç RuntimeConstantPoolOOM 12345678910111213package com.company.bupt;import java.util.*;public class Main &#123; public static void main(String[] args) &#123; List&lt;String&gt; list = new ArrayList&lt;String&gt;(); long i = 0; while (true) &#123; list.add(String.valueOf(i++).intern()); &#125; &#125;&#125; åœ¨JDK1.6ä¸Šè¿è¡Œç»“æœå¦‚ä¸‹ï¼š 123Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: PermGen space at java.lang.String.intern(Native Method) at com.company.bupt.Main.main(Main.java:10) åˆ†æï¼šä»è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºï¼Œåœ¨ OutOfMemoryError åé¢è·Ÿéšçš„æç¤ºä¿¡æ¯æ˜¯ PermGen spaceï¼Œè¯´æ˜è¿è¡Œæ—¶å¸¸é‡æ± å±äºæ–¹æ³•åŒºï¼ˆHotSpot è™šæ‹Ÿæœºä¸­çš„æ°¸ä¹…ä»£ï¼‰çš„ä¸€éƒ¨åˆ†ã€‚ åœ¨è¿‡å»ï¼ˆå½“è‡ªå®šä¹‰ç±»åŠ è½½å™¨ä½¿ç”¨ä¸æ™®éçš„æ—¶å€™ï¼‰ï¼Œç±»å‡ ä¹æ˜¯â€œé™æ€çš„â€å¹¶ä¸”å¾ˆå°‘è¢«å¸è½½å’Œå›æ”¶ï¼Œå› æ­¤ç±»ä¹Ÿå¯ä»¥è¢«çœ‹æˆâ€œæ°¸ä¹…çš„â€ã€‚å¦å¤–ç”±äºç±»ä½œä¸ºJVMå®ç°çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬ä¸ç”±ç¨‹åºæ¥åˆ›å»ºï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿè¢«è®¤ä¸ºæ˜¯â€œéå †â€çš„å†…å­˜ã€‚ åœ¨JDK7ä¹‹å‰çš„HotSpotè™šæ‹Ÿæœºä¸­ï¼Œçº³å…¥å­—ç¬¦ä¸²å¸¸é‡æ± çš„å­—ç¬¦ä¸²è¢«å­˜å‚¨åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œå› æ­¤å¯¼è‡´äº†ä¸€ç³»åˆ—çš„æ€§èƒ½é—®é¢˜å’Œå†…å­˜æº¢å‡ºé”™è¯¯ã€‚ åœ¨JDK8ä¹‹å‰çš„HotSpotè™šæ‹Ÿæœºä¸­ï¼Œç±»çš„è¿™äº›â€œæ°¸ä¹…çš„â€æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªå«åšæ°¸ä¹…ä»£çš„åŒºåŸŸã€‚æ°¸ä¹…ä»£ä¸€æ®µè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬åœ¨JVMå¯åŠ¨ä¹‹å‰å¯ä»¥é€šè¿‡è®¾ç½®-XX:MaxPermSizeçš„å€¼æ¥æ§åˆ¶æ°¸ä¹…ä»£çš„å¤§å°ï¼Œ32ä½æœºå™¨é»˜è®¤çš„æ°¸ä¹…ä»£çš„å¤§å°ä¸º64Mï¼Œ64ä½çš„æœºå™¨åˆ™ä¸º85Mã€‚æ°¸ä¹…ä»£çš„åƒåœ¾å›æ”¶å’Œè€å¹´ä»£çš„åƒåœ¾å›æ”¶æ˜¯ç»‘å®šçš„ï¼Œä¸€æ—¦å…¶ä¸­ä¸€ä¸ªåŒºåŸŸè¢«å æ»¡ï¼Œè¿™ä¸¤ä¸ªåŒºéƒ½è¦è¿›è¡Œåƒåœ¾å›æ”¶ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼Œç”±äºæˆ‘ä»¬å¯ä»¥é€šè¿‡â€‘XX:MaxPermSize è®¾ç½®æ°¸ä¹…ä»£çš„å¤§å°ï¼Œä¸€æ—¦ç±»çš„å…ƒæ•°æ®è¶…è¿‡äº†è®¾å®šçš„å¤§å°ï¼Œç¨‹åºå°±ä¼šè€—å°½å†…å­˜ï¼Œå¹¶å‡ºç°å†…å­˜æº¢å‡ºé”™è¯¯(OOM)ã€‚ å‚è€ƒï¼šJavaæ°¸ä¹…ä»£å»å“ªå„¿äº† http://www.infoq.com/cn/articles/Java-PERMGEN-Removed æ€»ç»“ï¼šjava jdk1.7ä¸­çš„å¸¸é‡æ± ç§»åˆ°äº†å †ä¸­ï¼ŒåŒæ—¶åœ¨jdk1.8ä¸­ç§»é™¤æ•´ä¸ªæ°¸ä¹…ä»£ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ä¸ªå«å…ƒç©ºé—´ï¼ˆMetaspaceï¼‰çš„åŒºåŸŸï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤šå¯ä»¥å‚è€ƒï¼šhttp://www.oracle.com/technetwork/java/javase/jdk7-relnotes-418459.htmlhttp://blog.csdn.net/zhyhang/article/details/17246223/ åœ¨JDK1.7ä¸Šæµ‹è¯• æ¨¡æ‹Ÿäº†ä¸€ä¸‹å¸¸é‡æ± çš„oomï¼Œçªç„¶å‘ç°è®¾ç½®çš„å‚æ•°-XX:PermSize=10M -XX:MaxPermSize=10Mä¸ç®¡ç”¨äº†ï¼ŒåŒæ—¶å‘ç°å†…å­˜ä¸€ç›´åœ¨ä¸Šå‡ï¼Œå½“ä¸Šå‡åˆ°ä¸€ä¸ªæå€¼å°±ä¼šè¶‹äºå¹³ç¨³ï¼Œç„¶åå†è¿‡ä¸€æ®µæ—¶é—´ä¼šæŠ¥ï¼šException in thread â€œmainâ€ java.lang.OutOfMemoryError: GC overhead limit exceededè¿™ä¸ªå¼‚å¸¸æ˜¯å½“GCçš„æ—¶é—´è¶…è¿‡æ€»è¿è¡Œæ—¶é—´çš„98%æ‰ä¼šæŠ¥çš„ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢GCå ç”¨çš„æ—¶é—´è¿‡é•¿ã€‚ è¿è¡Œç»“æœ 2.4.3.2 - String å¸¸é‡æ± æµ‹è¯• ä½¿ç”¨ JDK1.7 è¿è¡Œè¿™æ®µç¨‹åºå°±ä¸ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œwhile å¾ªç¯å°†ä¸€ç›´è¿›è¡Œä¸‹å»ã€‚å…³äºè¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± çš„å®ç°é—®é¢˜ï¼Œè¿˜å¯ä»¥å¼•ç”³å‡ºä¸€ä¸ªæ›´æœ‰æ„æ€çš„å½±å“ã€‚ æµ‹è¯•ä»£ç RuntimeConstantPoolOOM1 12345678910111213package com.company.bupt;public class Main &#123; public static void main(String[] args) &#123; String str1 = new StringBuilder("è®¡ç®—æœº").append("è½¯ä»¶").toString(); System.out.println(str1.intern() == str1); String str2 = new StringBuilder("ja").append("va").toString(); System.out.println(str2.intern() == str2); &#125;&#125; åˆ†æï¼š JDK1.6ï¼šä¼šå¾—åˆ°ä¸¤ä¸ª falseï¼Œè€Œåœ¨ JDK1.7 ä¸­è¿è¡Œï¼Œä¼šå¾—åˆ°ä¸€ä¸ª true å’Œä¸€ä¸ª falseã€‚äº§ç”Ÿå·®å¼‚çš„åŸå› æ˜¯ï¼šæ˜¯ JDK1.6 ä¸­ intern() æ–¹æ³•ä¼šæŠŠé¦–æ¬¡é‡åˆ°çš„å­—ç¬¦ä¸²å®ä¾‹å¤åˆ¶åˆ°æ°¸ä¹…ä»£ä¸­ï¼Œè¿”å›çš„ä¹Ÿæ˜¯æ°¸ä¹…ä»£ä¸­è¿™ä¸ªå­—ç¬¦ä¸²å®ä¾‹çš„å¼•ç”¨ï¼Œè€Œç”± StringBuilder åˆ›å»ºçš„å­—ç¬¦ä¸²å®ä¾‹åœ¨ Java å †ä¸Šï¼Œæ‰€ä»¥å¿…ç„¶ä¸æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œå°†è¿”å› false JDK1.7ï¼šintern() å®ç°ä¸ä¼šå†å¤åˆ¶å®ä¾‹ï¼Œåªæ˜¯åœ¨å¸¸é‡æ± ä¸­è®°å½•é¦–æ¬¡å‡ºç°çš„å®ä¾‹å¼•ç”¨ï¼Œå› æ­¤ intern() è¿”å›çš„å¼•ç”¨å’Œç”± StringBuilder åˆ›å»ºçš„é‚£ä¸ªå­—ç¬¦ä¸²å®ä¾‹æ˜¯åŒä¸€ä¸ªã€‚å¯¹ str2 æ¯”è¾ƒè¿”å› false æ˜¯å› ä¸º java è¿™ä¸ªå­—ç¬¦ä¸²åœ¨æ‰§è¡Œ StringBuilder.toString() ä¹‹å‰å·²ç»å‡ºç°è¿‡ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»æœ‰å®ƒçš„å¼•ç”¨äº†ï¼Œä¸ç¬¦åˆé¦–æ¬¡å‡ºç°çš„åŸåˆ™ï¼Œè€Œ è®¡ç®—æœºè½¯ä»¶ è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯é¦–æ¬¡å‡ºç°çš„ï¼Œå› æ­¤è¿”å› trueã€‚ JVMå¯åŠ¨çš„æ—¶å€™å·²ç»å†™åˆ°å¸¸é‡æ± é‡Œäº†ï¼Œç±»ä¼¼çš„è¿˜æœ‰â€™mainâ€™ã€â€™intâ€™ã€â€™floatâ€™ã€‚å‚è€ƒï¼šhttps://www.jianshu.com/p/b98851899f37 JDK1.7ä¸Šæµ‹è¯•ç»“æœ: 12345678String str1 = new StringBuilder("jc").append( "vc" ).toString();//JVMä¸ä¼šè‡ªåŠ¨åŠ è½½jcvcï¼Œæ‰€ä»¥è¿™ä¸ªjcvcæ˜¯é¦–æ¬¡å‡ºç°çš„ï¼Œè¿”å›true System.out.println(str1.intern()==str1); String str2=new StringBuilder("mai").append( "n" ).toString(); //mainå·²ç»è¢«è‡ªåŠ¨åŠ è½½äº†ï¼Œä¸æ˜¯é¦–æ¬¡å‡ºç°ï¼Œæ‰€ä»¥è¿”å›false System.out.println(str2.intern()==str2); String str3=new StringBuilder("in").append( "t" ).toString(); //flase System.out.println(str3.intern()==str3); String str4=new StringBuilder("flo").append( "at" ).toString(); //flase System.out.println(str4.intern()==str4); JDK1.6ä¸Šæµ‹è¯•ä¸Šè¿°ä»£ç åˆ™å…¨è¿”å›æ˜¯false 2.4.3.3 - æ–¹æ³•åŒºæº¢å‡º æ–¹æ³•åŒºç”¨äºå­˜æ”¾ Class çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç±»åã€è®¿é—®ä¿®é¥°ç¬¦ã€å¸¸é‡æ± ã€å­—æ®µæè¿°ã€æ–¹æ³•æè¿°ç­‰ã€‚å¯¹äºè¿™äº›åŒºåŸŸçš„æµ‹è¯•ï¼ŒåŸºæœ¬æ€è·¯å°±æ˜¯è¿è¡Œæ—¶äº§ç”Ÿå¤§é‡çš„ç±»å»å¡«æ»¡æ–¹æ³•åŒºï¼Œç›´åˆ°æº¢å‡ºã€‚å¦å¤–çš„ï¼Œç›´æ¥ä½¿ç”¨ Java SE API ä¹Ÿå¯ä»¥åŠ¨æ€äº§ç”Ÿç±»ï¼ˆå¦‚åå°„æ—¶çš„ GeneratedConstorAccessor å’ŒåŠ¨æ€ä»£ç†ç­‰ï¼‰ã€‚ ä½†åœ¨æœ¬æ¬¡è¯•éªŒä½¿ç”¨CGLIBç›´æ¥æ“ä½œå­—èŠ‚ç è¿è¡Œæ—¶ï¼Œç”Ÿæˆå¤§é‡çš„åŠ¨æ€ç±»ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“å‰ä¸»æµçš„å¾ˆå¤šæ¡†æ¶ å¦‚ï¼šSpring,Hibernateå¯¹ç±»è¿›è¡Œå¢å¼ºæ—¶ï¼Œéƒ½ä¼šä½¿ç”¨åˆ°ç±»ä¼¼CGLIBè¿™ç±»å­—èŠ‚ç æŠ€æœ¯ï¼Œå¢å¼ºçš„ç±»è¶Šå¤šï¼Œå°±éœ€è¦è¶Šå¤§çš„æ–¹æ³•åŒºæ¥ä¿è¯åŠ¨æ€ç”Ÿæˆçš„Classå¯ä»¥åŠ è½½å¦‚å†…å­˜ã€‚ æ³¨æ„ï¼šé¡¹ç›®å¿…é¡»å¼•å…¥asm-6.0.jarå’Œcglib-3.2.6.jarï¼Œéœ€è¦æ‰‹åŠ¨å¯»æ‰¾å¼•å…¥ æµ‹è¯•ä»£ç JavaMethodAreaOOMï¼š 1234567891011121314151617181920212223242526272829303132333435package com.company.bupt;import java.lang.reflect.Method;import net.sf.cglib.proxy.Enhancer;import net.sf.cglib.proxy.MethodInterceptor;import net.sf.cglib.proxy.MethodProxy;/** * æµ‹è¯•æ–¹æ³•åŒºå†…å­˜æº¢å‡º * æ–¹æ³•åŒºä¿å­˜çš„æ˜¯Classçš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç±»åï¼Œå­—æ®µæè¿°ç¬¦ç­‰ç­‰ï¼Œåœ¨è¿™é‡Œä½¿ç”¨cglibæ¥åˆ›å»ºå¤§é‡çš„ç±»ä¿¡æ¯æ¥ä½¿æ–¹æ³•åŒºå†…å­˜æº¢å‡º * * å¼‚å¸¸ä¿¡æ¯ä¸ºï¼šjava.lang.OutOfMemoryError: PermGen space * VM args:-XX:PermSize=10m -XX:MaxPermSize=10m * @author Tim * */public class Main &#123; public static void main(String[] args) &#123; while(true)&#123; Enhancer enhancer=new Enhancer(); enhancer.setSuperclass(OOMObject.class); enhancer.setCallback(new MethodInterceptor() &#123; public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable &#123; return proxy.invokeSuper(obj, args); &#125; &#125;); enhancer.create(); &#125; &#125; static class OOMObject&#123; &#125;&#125; ä»¥ä¸‹æ˜¯æˆ‘çš„å®æµ‹æƒ…å†µï¼š ä¸‹åˆ—æ˜¯åœ¨JDK1.6ä¸Šæµ‹è¯•å¾—åˆ°çš„ï¼š ä¸‹åˆ—æ˜¯åœ¨JDK1.7ä¸Šæµ‹è¯•å¾—åˆ°çš„ï¼š 2.4.3.4 - æ€»ç»“ æ–¹æ³•åŒºæº¢å‡ºæ˜¯ä¸€ç§å¸¸è§çš„å†…å­˜æº¢å‡ºå¼‚å¸¸ï¼Œä¸€ä¸ªç±»è¦è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶æ‰ï¼Œåˆ¤å®šæ¡ä»¶æ˜¯æ¯”è¾ƒè‹›åˆ»çš„ã€‚åœ¨ç»å¸¸åŠ¨æ€ç”Ÿæˆå¤§é‡çš„ Class çš„åº”ç”¨ä¸­ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ç±»çš„å›æ”¶æƒ…å†µã€‚è¿™ç±»åœºæ™¯é™¤äº†ä¸Šé¢æåˆ°çš„ç¨‹åºä½¿ç”¨äº† CGLib å­—èŠ‚ç å¢å¼ºå’ŒåŠ¨æ€è¯­è¨€ä¹‹å¤–ï¼Œå¸¸è§çš„è¿˜æœ‰ï¼šå¤§é‡ JSP æˆ–åŠ¨æ€äº§ç”Ÿ JSP æ–‡ä»¶çš„åº”ç”¨ï¼ˆJSP ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶éœ€è¦ç¼–è¯‘ä¸º Java ç±»ï¼‰ã€åŸºäº OSGi åº”ç”¨ï¼ˆå³ä½¿æ˜¯åŒä¸€ä¸ªç±»æ–‡ä»¶ï¼Œè¢«ä¸åŒçš„åŠ è½½å™¨åŠ è½½ä¹Ÿä¼šè§†ä¸ºä¸åŒçš„ç±»ï¼‰ç­‰ã€‚ 2.4.4 - æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º æ¦‚è¿°ï¼šDirectMemory å®¹é‡å¯ä»¥é€šè¿‡ -XX:MaxDirectMemorySize æŒ‡å®šï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ Java å †æœ€å¤§å€¼ï¼ˆ-XmxæŒ‡å®šï¼‰ä¸€æ ·ï¼Œä¸‹é¢çš„æµ‹è¯•ä»£ç è¶Šè¿‡äº† DirectByteBuffer ç±»ï¼Œç›´æ¥é€šè¿‡åå°„è·å– Unsafe å®ä¾‹è¿›è¡Œå†…å­˜åˆ†é…ï¼ˆUnsafe ç±»çš„ getUnsafe() æ–¹æ³•é™åˆ¶äº†åªæœ‰å¼•å¯¼ç±»åŠ è½½å™¨æ‰ä¼šè¿”å›å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è®¾è®¡è€…å¸Œæœ›åªæœ‰ rt.jar ä¸­çš„ç±»æ‰èƒ½ä½¿ç”¨ Unsafe çš„åŠŸèƒ½ï¼‰ã€‚å› ä¸ºï¼Œè™½ç„¶ä½¿ç”¨ DirectByteBuffer åˆ†é…å†…å­˜ä¹Ÿä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸ï¼Œä½†å®ƒæŠ›å‡ºå¼‚å¸¸æ—¶å¹¶æ²¡æœ‰çœŸæ­£å‘æ“ä½œç³»ç»Ÿç”³è¯·åˆ†é…å†…å­˜ï¼Œè€Œæ˜¯é€šè¿‡è®¡ç®—å¾—çŸ¥å†…å­˜æ— æ³•åˆ†é…ï¼Œäºæ˜¯æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸ï¼ŒçœŸæ­£ç”³è¯·åˆ†é…å†…å­˜çš„æ–¹æ³•æ˜¯ unfase.allocateMemory()ã€‚ æµ‹è¯•ä»£ç DirectMemoryOOM 12345678910111213141516171819202122package com.company.bupt;import sun.misc.Unsafe;import java.lang.reflect.Field;/** * VM Argsï¼š-Xmx20M -XX:MaxDirectMemorySize=10M * @author zzm */public class Main &#123; private static final int _1MB = 1024 * 1024; public static void main(String[] args) throws Exception &#123; Field unsafeField = Unsafe.class.getDeclaredFields()[0]; unsafeField.setAccessible(true); Unsafe unsafe = (Unsafe) unsafeField.get(null); while (true) &#123; unsafe.allocateMemory(_1MB); &#125; &#125;&#125; è¿è¡Œç»“æœå‚è€ƒï¼š 123Exception in thread &quot;main&quot; java.lang.OutOfMemoryErrorat sun.misc.Unsafe.allocateMemory(Native Method)at org.fenixsoft.oom.DMOOM.main(DMOOM.java:20) ä»¥ä¸‹æ˜¯JDK1.6ä¸Šå®æµ‹ï¼šç¨‹åºå¹¶æ²¡æœ‰æŠ¥é”™ åˆ†æï¼šç”± DirectMemory å¯¼è‡´çš„å†…å­˜æº¢å‡ºï¼Œä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾æ˜¯åœ¨ Heap Dump æ–‡ä»¶ä¸­ä¸ä¼šçœ‹åˆ°æ˜æ˜¾çš„å¼‚å¸¸ï¼Œå¦‚æœå‘ç° OOM ä¹‹å Dump æ–‡ä»¶å¾ˆå°ï¼Œè€Œç¨‹åºä¸­åˆç›´æ¥æˆ–é—´æ¥ä½¿ç”¨äº† NIOï¼Œé‚£å°±å¯ä»¥è€ƒè™‘æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯è¿™æ–¹é¢çš„åŸå› ã€‚ å‚è€ƒ:https://www.jianshu.com/p/989c90f339b9]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šæ·±å…¥ç†è§£javaè™šæ‹Ÿæœºã€‹å­¦ä¹ ç¬”è®°ä¹‹ä¸€]]></title>
    <url>%2F2018%2F03%2F05%2F2018-03-06%2F</url>
    <content type="text"><![CDATA[å…¨ä¹¦æ ¸å¿ƒåˆ†å¸ƒï¼š ç¬¬ä¸€ç«  èµ°è¿‘JAVA1.6 å®æˆ˜ï¼šè‡ªå·±ç¼–è¯‘JDK(å·²æˆåŠŸç¼–è¯‘) ç–‘é—®ï¼š å°†JDKæºç è¿›è¡Œç¼–è¯‘æ˜¯åšäº†ç‚¹ä»€ä¹ˆï¼Ÿæ˜¯å°†JDKä¸­çš„.javaæ–‡ä»¶ç¼–è¯‘æˆ.classæ–‡ä»¶å—ï¼Ÿ JDKä¸­åŒ…å«å¼€å‘å·¥å…·åŒ…å’ŒJVMï¼Œä½œè€…ç¼–è¯‘å®ŒJDKä»¥åï¼Œç”¨çš„è¿˜æ˜¯åŸæ¥åŒ…ä¸­çš„JVMå—ï¼Ÿ æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„JDKï¼Œä¾‹å¦‚JDK1.7ä¸­ï¼Œé‡Œé¢çš„æ–‡ä»¶æ˜¯ä»¥.javaå½¢å¼å­˜åœ¨çš„è¿˜æ˜¯ä»¥.classå½¢å¼å­˜åœ¨çš„ï¼Œæˆ–è€…æ˜¯ä»¥.javaå½¢å¼å­˜åœ¨ï¼Œè¦ç”¨çš„æ—¶å€™å†ç”¨JVMå»ç¼–è¯‘çš„?ç­”ï¼š JDKæ˜¯c/c++å†™çš„, ç¼–è¯‘å°±æ˜¯æŠŠJDKç¼–è¯‘æˆå¯ä»¥è¿è¡Œçš„çŠ¶æ€, å¯è¿è¡Œçš„æ„æ€æ˜¯æŒ‡å¯ä»¥ç¼–è¯‘è¿è¡Œ.javaæ–‡ä»¶. è€Œä¸€èˆ¬æƒ…å†µä¸‹å®˜æ–¹ä¸‹è½½çš„JDKéƒ½æ˜¯å·²ç»å¸®ä½ ç¼–è¯‘å¥½è€Œå·². ä½œè€…å¯ä»¥ç”¨è‡ªå·±ç¼–è¯‘çš„, ä¹Ÿå¯ä»¥ç”¨å®˜æ–¹ç¼–è¯‘å¥½çš„. è¿™ä¸ªè¦çœ‹ä¹¦ä¸­çš„è¯´æ˜äº† JDKæ˜¯c/c++å†™çš„, é‡Œé¢å’Œå…¶ä»–c++ç¨‹åºæ²¡ä»€ä¹ˆåŒºåˆ«, windowsä¸‹é¢æ˜¯ä¸€å †dllå’Œä¸€å †exe. ä½ è¯´çš„.javaæ–‡ä»¶æ˜¯JDKçš„åŠŸèƒ½ä¹‹ä¸€, å¸®ä½ ç¼–è¯‘javaæ–‡ä»¶æˆclass, JVMæ˜¯è¿è¡Œclassæ–‡ä»¶çš„å®¹å™¨ ä¸€ ç¯å¢ƒï¼š æ“ä½œç³»ç»Ÿï¼šCentOS6.8è®¡åˆ’ç¼–è¯‘çš„jdk: openjdk7ç°æˆçš„jdk: java version â€œ1.6.0_25â€(Java HotSpot(TM) 64-Bit Server VM (build 20.0-b11, mixed mode))jdk6ä¸‹è½½é“¾æ¥å¦‚æœä½ å½“å‰çš„ç³»ç»Ÿç‰ˆæœ¬ä¸æ˜¯è¿™ä¸ªï¼Œæ²¡å…³ç³»ï¼Œåªè¦ä¸‹è½½ä¸Šè¿°ç‰ˆæœ¬å®‰è£…rpmï¼ˆé»˜è®¤å®‰è£…åˆ°/usr/javaè·¯å¾„ä¸‹ï¼‰(ä¸å¿…é…ç½®ç¯å¢ƒå˜é‡)å³å¯ äºŒ ç¼–è¯‘å‰å‡†å¤‡å·¥ä½œå¦‚ä¸‹123456yum install -y mercurialyum install -y ant ant-nodepsyum install -y libX11* libX*yum install -y libXi-devel libXtst-devel libXt-devel freetype* yum install -y alsa-lib-devel cups-develyum install -y gcc gcc-c++ ä¸‰ ä¸‹è½½è®¡åˆ’ç¼–è¯‘çš„openjdk7(jdkæºç ç½‘ç«™ï¼šhttp://hg.openjdk.java.net/jdk7u/ ï¼Œ ä½ å€¼å¾—æ”¶è—) 1234hg clone http://hg.openjdk.java.net/jdk7u/jdk7u-devcd jdk7u-devchmod 755 get_source.sh ./get_source.sh å›› ç¼–è¯‘4.1å‡†å¤‡å¥½ç¼–è¯‘ç¯å¢ƒç›¸å…³å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354export LANG=C#Bootstrap JDKçš„å®‰è£…è·¯å¾„ï¼Œå¿…é¡»è®¾ç½®export ALT_BOOTDIR=/export/servers/jdk1.6.0_25/#å…è®¸è‡ªåŠ¨ä¸‹è½½ä¾èµ–export ALLOW_DOWNLOADS=true#å¹¶è¡Œç¼–è¯‘çš„çº¿æ•°ï¼Œè®¾ç½®å’Œcpuçš„æ•°é‡ä¸€è‡´å³å¯export HOTSPOT_BUILD_JOBS=2export ALT_PATALLER_COMPILE_JOBS=2#æ¯”è¾ƒæœ¬æ¬¡buildå‡ºæ¥çš„æ˜ åƒä¸å…ˆå‰ç‰ˆæœ¬çš„å·®å¼‚ï¼Œè¿™å¯¹æˆ‘ä»¬æ¥è¯´æ²¡æœ‰æ„ä¹‰ï¼Œexport SKIP_COMPARE_IMAGES=true#ä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œä¸åŠ è¿™ä¸ªç¼–è¯‘ä¼šæ›´æ…¢ä¸€äº›export USE_PRECOMPILED_HEADER=true#æŒ‡å®šè¦ç¼–è¯‘çš„å†…å®¹export BUILD_LANGTOOLS=trueexport BUILD_HOTSPOT=trueexport BUILD_JDK=trueexport BUILD_JAXP=falseexport BUILD_JAXWS=falseexport BUILD_CORBA=false#è¦ç¼–è¯‘çš„ç‰ˆæœ¬#export SKIP_DEBUG_BUILD=false#export SKIP_FASTDEBUG_BUILD=trueexport DEBUG_NAME=debug#å¯ä»¥é¿å¼€javawså’Œæµè§ˆå™¨Javaæ’ä»¶ä¹‹ç±»çš„éƒ¨åˆ†buildBUILD_DEPLOY=false#è®¾ç½®æˆfalseå°±ä¸ä¼šbuildå‡ºåŒ…è£…åŒ…ï¼Œå› ä¸ºåŒ…è£…åŒ…é‡Œæœ‰äº›å¥‡æ€ªçš„ä¾èµ–#ä½†æ˜¯å³ä½¿ä¸buildå‡ºå®ƒä¹Ÿå·²ç»èƒ½å¾—åˆ°å®Œæ•´çš„JDKæ˜ åƒï¼Œæ‰€ä»¥è¿˜æ˜¯åˆ«buildå®ƒå¥½äº†BUILD_INSTALL=false#ç¼–è¯‘ç»“æœå­˜æ”¾çš„è·¯å¾„export ALT_OUTPUTDIR=/root/temp/jdk7u WARNINGS_ARE_ERRORS=#å¸è½½ç¯å¢ƒå˜é‡ï¼Œé¿å…è¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿunset JAVA_HOMEunset CLASSPATHunset JAVA_OPTS#make 2&gt;&amp;1 | tee $ALT_OUTPUTDIR/build.log å¥½äº†ï¼Œæˆ‘ä»¬å°†ä¸Šé¢ä¸€ç³»åˆ—çš„ç¯å¢ƒå˜é‡ï¼Œåˆ›å»ºç¯å¢ƒæ–‡ä»¶VARæ¥ç»Ÿä¸€ç®¡ç†å§vi VAR 12345678910111213141516171819202122232425262728293031323334353637383940export LANG=Cexport ALT_BOOTDIR=/usr/java/jdk1.6.0_25export ALLOW_DOWNLOADS=trueexport HOTSPOT_BUILD_JOBS=2export ALT_PATALLER_COMPILE_JOBS=2export SKIP_COMPARE_IMAGES=trueexport USE_PRECOMPILED_HEADER=trueexport BUILD_LANGTOOLS=trueexport BUILD_HOTSPOT=trueexport BUILD_JDK=trueexport BUILD_JAXP=trueexport BUILD_JAXWS=trueexport BUILD_CORBA=true#export SKIP_DEBUG_BUILD=false#export SKIP_FASTDEBUG_BUILD=trueBUILD_DEPLOY=falseBUILD_INSTALL=falseexport ALT_OUTPUTDIR=/home/cloudpai/app/jdk7u #export CORBA_DIST=$ALT_OUTPUTDIR/corba/dist#export JAXP_DIST=$ALT_OUTPUTDIR/jaxp/dist#export JAXWS_DIST=$ALT_OUTPUTDIR/jaxws/distunset JAVA_HOMEunset CLASSPATHunset JAVA_OPTS ä½¿ä¹‹ç”Ÿæ•ˆ. VAR 4.2æ£€æµ‹è®¾ç½®æ˜¯å¦å…¨éƒ¨æ­£ç¡®make sanityå½“çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºæ—¶åˆ™è¡¨ç¤ºæˆåŠŸ 123456789101112131415161718192021Build Machine Information: build machine = workstation.centos.vbirdBuild Directory Structure: CWD = /root/temp/jdk7u-dev TOPDIR = . LANGTOOLS_TOPDIR = ./langtools JAXP_TOPDIR = ./jaxp JAXWS_TOPDIR = ./jaxws CORBA_TOPDIR = ./corba HOTSPOT_TOPDIR = ./hotspot JDK_TOPDIR = ./jdk â€¦â€¦Sanity check passed. 4.3çœŸæ­£å¼€å§‹ç¼–è¯‘make (å‘½ä»¤ç­‰åŒäºmake all) æˆåŠŸçš„æ ‡å¿— 12345678910111213#-- Build times ----------Target all_product_buildStart 2018-03-06 21:03:26End 2018-03-06 21:20:0900:02:02 corba00:05:08 hotspot00:00:16 jaxp00:00:19 jaxws00:08:34 jdk00:00:23 langtools00:16:43 TOTAL-------------------------make[1]: Leaving directory `/home/cloudpai/Downloads/jdk7u-dev' 4.4æµ‹è¯•è‡ªå·±ç¼–è¯‘å‡ºæ¥çš„jdkå§æ­£ç¡®ç¼–è¯‘åï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éªŒè¯ 1234[cloudpai@hadoop000 bin]$ /home/cloudpai/app/jdk7u/j2sdk-image/bin/java -versionopenjdk version "1.7.0-internal"OpenJDK Runtime Environment (build 1.7.0-internal-cloudpai_2018_03_06_21_03-b00)OpenJDK 64-Bit Server VM (build 24.80-b07, mixed mode) OKï¼Œåˆ°äº›å°±å¤§åŠŸå‘Šæˆäº†ã€‚ äº” å¯èƒ½å‡ºç°çš„é”™è¯¯/usr/bin/ld: cannot find -lX11 collect2: ld returned 1 exit statusè§£å†³åŠæ³•yum install -y libX11* /bin/sh: line 0: cd: /NOT-SET/re/jdk/1.7.0/promoted/latest/binaries/linux-amd64: No such file or directory make[4]: *** [/root/temp/jdk7u/tmp/java/components_imported] Error 1è§£å†³åŠæ³•VARæ–‡ä»¶ç¡®è®¤æ‰§è¡Œè¿‡äº†ï¼Œæ­£ç¡®çš„å§¿åŠ¿. VAR å‚è€ƒåšå®¢ï¼šhttp://blog.csdn.net/hl_java/article/details/76691321 ç”±1.6.4å¾—æˆ‘ä»¬å¾—åˆ°äº†è‡ªå·±çš„è™šæ‹Ÿæœº1.7.0-internal-cloudpai_2018_03_06_21_03-b00 ç°åœ¨æˆ‘ä»¬è¦å°†JVMè¿è¡Œèµ·æ¥ï¼š åœ¨å¤§å¤šæ•°æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸å…³å¿ƒJDKä¸­HotSpotè™šæ‹Ÿæœºä»¥å¤–çš„å†…å®¹ï¼Œåªæƒ³å•ç‹¬ç¼–è¯‘ HotSpotè™šæ‹Ÿæœºçš„è¯ï¼ˆä¾‹å¦‚è°ƒè¯•è™šæ‹Ÿæœºæ—¶ï¼Œæ¯æ¬¡æ”¹åŠ¨ç¨‹åºéƒ½æ‰§è¡Œæ•´ä¸ªOpenJDKçš„Makefileï¼Œé€Ÿ åº¦è‚¯å®šå—ä¸äº†ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨hotspot/makeç›®å½•ä¸‹çš„Makefileè¿›è¡Œæ›¿æ¢å³å¯ï¼Œå…¶ä»–å‚æ•°è®¾ç½®ä¸å‰ é¢æ˜¯ä¸€è‡´çš„ï¼Œè¿™æ—¶å€™è™šæ‹Ÿæœºçš„è¾“å‡ºç»“æœå­˜æ”¾åœ¨build/hotspot/outputdir/bsd_amd64_compiler2ç›®å½•(åœ¨ä¸åŒæœºå™¨ä¸Šï¼Œæœ€åä¸€ä¸ªç›®å½•åç§°ä¼šæœ‰æ‰€å·®åˆ«ï¼Œbsdè¡¨ç¤ºMac OSç³»ç»Ÿï¼ˆå†…æ ¸ä¸º FreeBSDï¼‰ï¼Œamd64è¡¨ç¤ºæ˜¯64ä½JDKï¼ˆ32ä½æ˜¯x86ï¼‰ï¼Œcompiler2è¡¨ç¤ºæ˜¯Server VMï¼ˆClient VMè¡¨ ç¤ºæ˜¯compiler1ï¼‰ã€‚) ä¸­ï¼Œè¿›å…¥åå¯ä»¥è§åˆ°ä»¥ä¸‹å‡ ä¸ªç›®å½•ã€‚ åœ¨è·¯å¾„ï¼š/home/cloudpai/app/jdk7u/hotspot/outputdir/linux_amd64_compiler2 12345678910[cloudpai@hadoop000 linux_amd64_compiler2]$ lltotal 48drwxrwxr-x. 2 cloudpai cloudpai 4096 Mar 6 21:06 debugdrwxrwxr-x. 2 cloudpai cloudpai 4096 Mar 6 21:06 fastdebugdrwxrwxr-x. 7 cloudpai cloudpai 4096 Mar 6 21:06 generateddrwxrwxr-x. 2 cloudpai cloudpai 4096 Mar 6 21:06 jvmgdrwxrwxr-x. 2 cloudpai cloudpai 4096 Mar 6 21:06 optimizeddrwxrwxr-x. 3 cloudpai cloudpai 20480 Mar 6 21:11 productdrwxrwxr-x. 2 cloudpai cloudpai 4096 Mar 6 21:06 profiled-rw-rw-r--. 1 cloudpai cloudpai 1778 Mar 6 21:06 shared_dirs.lst è¿™äº›ç›®å½•å¯¹åº”äº†ä¸åŒçš„ä¼˜åŒ–çº§åˆ«ï¼Œä¼˜åŒ–çº§åˆ«è¶Šé«˜ï¼Œæ€§èƒ½è‡ªç„¶å°±è¶Šå¥½ï¼Œä½†æ˜¯è¾“å‡ºä»£ç ä¸æº ç çš„å·®è·å°±è¶Šå¤§ï¼Œéš¾äºè°ƒè¯•ï¼Œå…·ä½“å“ªä¸ªç›®å½•æœ‰å†…å®¹ï¼Œå–å†³äºmakeå‘½ä»¤åé¢çš„å‚æ•°ã€‚ åœ¨ç¼–è¯‘ç»“æŸä¹‹åã€è¿è¡Œè™šæ‹Ÿæœºä¹‹å‰ï¼Œè¿˜è¦æ‰‹å·¥ç¼–è¾‘ç›®å½•ä¸‹çš„env.shæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”±ç¼– è¯‘è„šæœ¬è‡ªåŠ¨äº§ç”Ÿï¼Œç”¨äºè®¾ç½®è™šæ‹Ÿæœºçš„ç¯å¢ƒå˜é‡ï¼Œé‡Œé¢å·²ç»å‘å¸ƒäº†â€œJAVA_HOMEã€ CLASSPATHã€HOTSPOT_BUILD_USERâ€3ä¸ªç¯å¢ƒå˜é‡ï¼Œ è¿˜è¦åœ¨åœ¨productä¸‹è¾¹ï¼ˆçœ‹ç½‘ä¸Šéƒ½æ˜¯åœ¨jvmgä¸‹è¾¹ï¼Œå¯æˆ‘çš„jvmgä¸‹è¾¹æ²¡æœ‰gammaï¼Œä¸çŸ¥é“ä»€ä¹ˆæƒ…å†µï¼‰çš„env.shä¸‹åŠ å…¥ï¼š 123456export JAVA_HOME=/usr/java/jdk1.6.0_25export PATH=$JAVA_HOME/bin:$PATHLD_LIBRARY_PATH=.:$&#123;JAVA_HOME&#125;/jre/lib/amd64/native_threads:$&#123;JAVA_HOME&#125;/jre/lib/amd64:export LD_LIBRARY_PATH ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨è™šæ‹Ÿæœºï¼ˆè¿™æ—¶çš„å¯åŠ¨å™¨åä¸ºgammaï¼‰ï¼Œè¾“å‡ºç‰ˆæœ¬å·ã€‚ 12source ./env.sh ./gamma -version æœ€åè¿è¡Œè™šæ‹ŸæœºæˆåŠŸï¼ï¼ 12345[cloudpai@hadoop000 product]$ ./gamma -versionUsing java runtime at: /usr/java/jdk1.6.0_25/jrejava version &quot;1.6.0_25&quot;Java(TM) SE Runtime Environment (build 1.6.0_25-b06)OpenJDK 64-Bit Server VM (build 24.80-b07, mixed mode) 1.6.5 JVM åœ¨IDEå·¥å…·ä¸­è¿›è¡Œæºç è°ƒè¯•æ³¨æ„è¿™é‡Œæ˜¯æºç è°ƒè¯•ï¼Œæ˜¯å¯¹1.6.4ä¸­è®¡åˆ’ç¼–è¯‘çš„jdkæºç è¿›è¡Œæ“ä½œ: openjdk7ï¼ˆcentosä¸Šçš„å­˜å‚¨è·¯å¾„æ˜¯/home/cloudpai/Downloads/jdk7u-devï¼‰ centosä¸‹å®‰è£…NetBeansé›†æˆå¼€å‘ç¯å¢ƒ å®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttp://download.netbeans.org/netbeans/7.0.1/final/bundles/netbeans-7.0.1-ml-cpp-linux.sh ä»¥netbeans-7.0.1-ml-cpp-linux.shä¸ºä¾‹ é¦–å…ˆï¼Œåˆ°NetBeansç½‘ç«™ï¼ˆhttp://netbeans.org/ï¼‰ä¸Šä¸‹è½½æœ€æ–°ç‰ˆçš„NetBeansï¼ˆç½‘ä¸Šè¯´7.0.1ç‰ˆæœ¬æ²¡é—®é¢˜ï¼Œæˆ‘å°±ç›´æ¥ç”¨è¿™ä¸ªç‰ˆæœ¬äº†ï¼‰ï¼Œä¸‹è½½æ—¶é€‰æ‹©æ”¯æŒ C/C++å¼€å‘çš„é‚£ä¸ªç‰ˆæœ¬ã€‚ æ³¨æ„ï¼šä¸è¦åœ¨æœ¬åœ°è¿œç¨‹ç”¨SecureCRTè¾“å…¥å‘½ä»¤å•Šï¼Œè¦åœ¨Linuxä¸‹ç”¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š 1sh netbeans-7.0.1-ml-cpp-linux.sh è¿™æ ·å°±ä¼šåœ¨centosä¸­å¼¹å‡ºå®‰è£…ç•Œé¢ï¼š é…ç½®å¥½å®‰è£…è·¯å¾„å’ŒIDEä½¿ç”¨çš„javaç¯å¢ƒï¼ˆæ³¨æ„ä¸ç¼–è¯‘æ—¶çš„ç¯å¢ƒä¸€è‡´ï¼‰ å®‰è£…å¥½ä»¥åï¼Œæ¡Œé¢ä¸Šå°±æœ‰äº†NetBeansï¼š åç»­æ“ä½œå¯ä»¥å‚è€ƒè¿™ä¸ªåšå®¢ï¼šä½¿ç”¨Netbeanså¼€å‘è°ƒè¯•OpenJDKä¸­çš„HotSpothttp://blog.csdn.net/pange1991/article/details/51580969 CentOSä¸‹å®‰è£…NetBeansé›†æˆå¼€å‘ç¯å¢ƒhttp://www.itboth.com/d/QriYZj/centos-java-windows-linux-netbeans]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java1.8 å¸®åŠ©æ–‡æ¡£]]></title>
    <url>%2F2018%2F03%2F05%2F2018-03-05-1%2F</url>
    <content type="text"><![CDATA[java 1.6 å¸®åŠ©æ–‡æ¡£ä¸­æ–‡é“¾æ¥ï¼šhttp://download.csdn.net/detail/qw599186875/9608735è‹±æ–‡Java1.8 å¸®åŠ©æ–‡æ¡£è‹±æ–‡ä¸­æ–‡ â€“ è°·æ­Œç‰ˆåœ¨çº¿ç‰ˆ: https://blog.fondme.cn/apidoc/jdk-1.8-google/ä¸‹è½½é“¾æ¥ï¼šhttp://download.csdn.net/detail/qw599186875/9802192]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤§å‹ç½‘ç«™æ¶æ„æŠ€èƒ½å›¾è°±ï¼ˆJavaç‰ˆï¼‰]]></title>
    <url>%2F2018%2F03%2F05%2F2018-03-05%2F</url>
    <content type="text"><![CDATA[æ¯å¤©éƒ½è¦æœ‰è¿›æ­¥ï¼]]></content>
      <tags>
        <tag>java</tag>
        <tag>å›¾è°±</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[workflowå·¥ä½œæµ]]></title>
    <url>%2F2018%2F03%2F04%2F2018-03-04%2F</url>
    <content type="text"><![CDATA[å·¥ä½œæµè„šæœ¬æµ‹è¯•ï¼šæµ‹è¯•æˆåŠŸ~æ™šå®‰~~]]></content>
      <tags>
        <tag>workflow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scratchç¼–ç¨‹æ¢ç©¶]]></title>
    <url>%2F2018%2F03%2F02%2F2018-03-02%2F</url>
    <content type="text"><![CDATA[è½¬è½½è‡ªï¼šå„¿ç«¥ä½¿ç”¨Scratchç¼–ç¨‹æ—¶ï¼Œä¸ç¨‹åºå‘˜åœ¨å·¥ä½œä¸­çš„ç¼–ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - Milo Yipçš„å›ç­” - çŸ¥ä¹https://www.zhihu.com/question/42012520/answer/310430799]]></content>
      <tags>
        <tag>scratch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018æ‹œå¹´ç¥­å•å“]]></title>
    <url>%2F2018%2F03%2F01%2F2018-03-01-1%2F</url>
    <content type="text"><![CDATA[2018æ‹œå¹´ç¥­å•å“ä¼ é€é—¨ï¼š 1.ã€é€†æµªåƒç§‹ã€‘av20204904 2.ã€å¦‚æœæˆ‘çš„ä¸€ç”Ÿåªéœ€è¦åšä¸€ä»¶äº‹ â€” Bilibili Zeitgeist 2017ã€‘av20203478 3.ã€æ¢¦æƒ³å°å‰§åœº-é—å¤±çš„å®ç‰©ã€‘av20203610 4.ã€å£è¢‹ç«æŠ€åœºãƒ¼å†°ä¸é“ä¹‹æ­Œã€‘av20203938 5.ã€ç›¸é‡day by dayã€‘av20203945 6.ã€ä¸Šæµ·ä¸€å¤œã€‘av20204014 7.ã€ç¥é¬¼æ‹æ›²ã€‘av20204051 8.ã€UPä¸»çš„å¥‡å¦™å†’é™©ä¹‹å‹‡è€…ä¼ è¯´ã€‘av20204517 9.ã€æˆ‘çš„ç ´çƒ‚ä¹‹æ€èµ·æ³¢æ¾œã€‘av20204332 10.ã€paletteã€‘av20204403 11.ã€å¹¿å‘Šé«˜æ‰‹ã€‘av20204701 12.ã€æ»‘ç¨½å›å¤§å†’é™©ã€‘av20204534 13.ã€journeyã€‘av20204614 14.ã€å…¨é æˆ‘å‹¤åŠ³çš„æ‰‹ã€‘av20204705 15.ã€æ¼”å¥åŒºçš„å·å¿ƒè®¡åˆ’ã€‘av20204824 16.ã€ä¹’ä¹“å¸å›½ã€‘av20205319 17.ã€é¬¼ç•œå¤§æˆ˜ä¹‹çœŸç›¸é»æ˜ã€‘av20205316 18.ã€å¦‚ä½•ç¿»æ‹ä¸€ä¸ªCGçŸ­ç‰‡ã€‘av20205314 19.ã€å¦å…‹å¤§æˆ˜ã€‘av20205375 20.ã€æ˜Ÿç©ºèŠ±ç«ã€‘av20203411 å½©è›‹ã€ä¸¾å¤´ä¸‰å°ºæœ‰ç¥æ˜ã€‘av16201808]]></content>
      <tags>
        <tag>bilibili</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[blogs ä¸Šçš„æ ‡ç­¾tagå‚æ•°]]></title>
    <url>%2F2018%2F03%2F01%2F2018-03-01%2F</url>
    <content type="text"><![CDATA[12345678910---title: Macç»ˆç«¯ç¿»å¢™tags: Linux&amp;Unixcategories: Linux&amp;Unixcomments: trueabbrlink: 745a6d7date: 2016-11-24 18:26:33updated: 2016-11-24 18:26:33copyright: true---]]></content>
      <tags>
        <tag>mac</tag>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éœ€è¦è¿›è¡Œçš„æ”¹è¿›]]></title>
    <url>%2F2018%2F03%2F01%2F%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%9A%84%E6%94%B9%E8%BF%9B%2F</url>
    <content type="text"><![CDATA[TODOï¼š æµ‹è¯•gitçš„å¤‡ä»½åŠŸèƒ½ å­¦ä¹  Alfred workflowå®ç°æ‰“å¼€é‡å¯ä»»æ„åº”ç”¨ è„šæœ¬å®ç°æ¸…ç†æµè§ˆå™¨ç¼“å­˜]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[blogé€šè¿‡gitå¤‡ä»½ä¸æ¢å¤çš„æœ€ä¼˜æ“ä½œ]]></title>
    <url>%2F2018%2F02%2F28%2Fblog%E9%80%9A%E8%BF%87git%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E7%9A%84%E6%9C%80%E4%BC%98%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[å¼•è¨€ï¼šHexoç”Ÿæˆçš„æ–‡ä»¶é‡Œé¢æ˜¯æœ‰ä¸€ä¸ª.gitignoreçš„ï¼Œæ‰€ä»¥å®ƒçš„æœ¬æ„åº”è¯¥ä¹Ÿæ˜¯æƒ³æˆ‘ä»¬æŠŠè¿™äº›æ–‡ä»¶æ”¾åˆ°GitHubä¸Šå­˜æ”¾çš„ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨åˆ†æ”¯çš„æ€è·¯ï¼ä¸€ä¸ªåˆ†æ”¯ç”¨æ¥å­˜æ”¾Hexoç”Ÿæˆçš„ç½‘ç«™åŸå§‹çš„æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯ç”¨æ¥å­˜æ”¾ç”Ÿæˆçš„é™æ€ç½‘é¡µã€‚ç‰¹åˆ«ç®€æ´ã€‚ å…³äºæ­å»ºçš„æµç¨‹ åˆ›å»ºä»“åº“ï¼Œhttp://CrazyMilk.github.ioï¼› åˆ›å»ºä¸¤ä¸ªåˆ†æ”¯ï¼šmaster ä¸ hexoï¼› è®¾ç½®hexoä¸ºé»˜è®¤åˆ†æ”¯ï¼ˆå› ä¸ºæˆ‘ä»¬åªéœ€è¦æ‰‹åŠ¨ç®¡ç†è¿™ä¸ªåˆ†æ”¯ä¸Šçš„Hexoç½‘ç«™æ–‡ä»¶ï¼‰ï¼› ä½¿ç”¨git clone git@github.com:CrazyMilk/CrazyMilk.github.io.gitæ‹·è´ä»“åº“ï¼› åœ¨æœ¬åœ°http://CrazyMilk.github.io ä»“åº“æ–°å»ºä¸€ä¸ªæ–‡ä»¶åï¼Œè¿›å…¥æ–‡ä»¶ä¸­ã€‚åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é€šè¿‡Git bashä¾æ¬¡æ‰§è¡Œnpm install hexoã€hexo initã€npm install å’Œ npm install hexo-deployer-gitï¼ˆæ­¤æ—¶å½“å‰åˆ†æ”¯åº”æ˜¾ç¤ºä¸ºhexoï¼‰; ä¿®æ”¹_config.ymlä¸­çš„deployå‚æ•°ï¼Œåˆ†æ”¯åº”ä¸ºmasterï¼› ä¾æ¬¡æ‰§è¡Œgit add .ã€git commit -m â€œâ€¦â€ã€git push origin hexoæäº¤ç½‘ç«™ç›¸å…³çš„æ–‡ä»¶ï¼› æ‰§è¡Œhexo g -dç”Ÿæˆç½‘ç«™å¹¶éƒ¨ç½²åˆ°GitHubä¸Šã€‚è¿™æ ·ä¸€æ¥ï¼Œåœ¨GitHubä¸Šçš„http://CrazyMilk.github.ioä»“åº“å°±æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œä¸€ä¸ªhexoåˆ†æ”¯ç”¨æ¥å­˜æ”¾ç½‘ç«™çš„åŸå§‹æ–‡ä»¶ï¼Œä¸€ä¸ªmasteråˆ†æ”¯ç”¨æ¥å­˜æ”¾ç”Ÿæˆçš„é™æ€ç½‘é¡µã€‚ å…³äºæ—¥å¸¸çš„æ”¹åŠ¨æµç¨‹ åœ¨æœ¬åœ°å¯¹åšå®¢è¿›è¡Œä¿®æ”¹ï¼ˆæ·»åŠ æ–°åšæ–‡ã€ä¿®æ”¹æ ·å¼ç­‰ç­‰ï¼‰åï¼Œé€šè¿‡ä¸‹é¢çš„æµç¨‹è¿›è¡Œç®¡ç†ã€‚ ä¾æ¬¡æ‰§è¡Œgit add .ã€git commit -m â€œâ€¦â€ã€git push origin hexoæŒ‡ä»¤å°†æ”¹åŠ¨æ¨é€åˆ°GitHubï¼ˆæ­¤æ—¶å½“å‰åˆ†æ”¯åº”ä¸ºhexoï¼‰ï¼› ç„¶åæ‰æ‰§è¡Œhexo g -då‘å¸ƒç½‘ç«™åˆ°masteråˆ†æ”¯ä¸Šã€‚è™½ç„¶ä¸¤ä¸ªè¿‡ç¨‹é¡ºåºè°ƒè½¬ä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œä¸è¿‡é€»è¾‘ä¸Šè¿™æ ·çš„é¡ºåºæ˜¯ç»å¯¹æ²¡é—®é¢˜çš„ï¼ˆä¾‹å¦‚çªç„¶æ­»æœºè¦é‡è£…äº†ï¼Œæ‚²å‚¬â€¦.çš„æƒ…å†µï¼Œè°ƒè½¬é¡ºåºå°±æœ‰é—®é¢˜äº†ï¼‰ã€‚ æœ¬åœ°èµ„æ–™ä¸¢å¤±åçš„æµç¨‹å½“é‡è£…ç”µè„‘ä¹‹åï¼Œæˆ–è€…æƒ³åœ¨å…¶ä»–ç”µè„‘ä¸Šä¿®æ”¹åšå®¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ­¥éª¤ï¼š ä½¿ç”¨git clone git@github.com:CrazyMilk/CrazyMilk.github.io.gitæ‹·è´ä»“åº“ï¼ˆé»˜è®¤åˆ†æ”¯ä¸ºhexoï¼‰ï¼› åœ¨æœ¬åœ°æ–°æ‹·è´çš„http://CrazyMilk.github.ioæ–‡ä»¶å¤¹ä¸‹é€šè¿‡Git bashä¾æ¬¡æ‰§è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼šnpm install hexoã€npm installã€npm install hexo-deployer-gitï¼ˆè®°å¾—ï¼Œä¸éœ€è¦hexo initè¿™æ¡æŒ‡ä»¤ï¼‰ã€‚ å…¶å®åªè¦æŠŠhexoå’Œéœ€è¦æ¯ä¸ªæ’ä»¶éƒ½å†™å…¥åˆ°package.jsonä¸­ï¼ˆå¹³å¸¸å®‰è£…æ—¶åŠ â€“saveå‚æ•°ä¼šè‡ªåŠ¨å†™å…¥ï¼‰ï¼Œé‚£ä¹ˆgit cloneä¸‹æ¥ä¹‹åï¼Œåªè¦ä¸€å¥npm installå°±èƒ½è£…å¥½hexoå’Œæ‰€æœ‰çš„ä¾èµ–ï¼Œå¼€ç®±å³ç”¨ ^_^ è¿ç§»æºç åº“ä¸€å¼€å§‹ç”¨äº†è¯¥æ–¹æ³•ï¼Œåæ¥æ„è¯†åˆ°å¤‡ä»½åˆ°githubåˆ†æ”¯çš„åšå®¢æºç ä¹Ÿæ˜¯publicçš„ï¼Œåæ¥æ”¹ä¸ºå¤‡ä»½åˆ°å¼€æºä¸­å›½gitç§æœ‰åº“äº† å‚è€ƒ1ï¼šGitHub Pages + Hexoæ­å»ºåšå®¢å‚è€ƒ2ï¼šä½¿ç”¨hexoï¼Œå¦‚æœæ¢äº†ç”µè„‘æ€ä¹ˆæ›´æ–°åšå®¢ï¼Ÿ - CrazyMilkçš„å›ç­” - çŸ¥ä¹]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macä½¿ç”¨]]></title>
    <url>%2F2018%2F02%2F28%2F2018-02-28%2F</url>
    <content type="text"><![CDATA[Macç³»ç»Ÿå¦‚ä½•æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Ÿä»¥â€.â€å¼€å¤´çš„éšè—æ–‡ä»¶å¦‚ä½•åœ¨MACç³»ç»Ÿä¸‹æ˜¾ç¤ºï¼Ÿ ç­”ï¼šCommand+Shift+. å¯ä»¥æ˜¾ç¤ºéšè—æ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼Œå†æŒ‰ä¸€æ¬¡ï¼Œæ¢å¤éšè—ï¼›finderä¸‹ä½¿ç”¨Command+Shift+G å¯ä»¥å‰å¾€ä»»ä½•æ–‡ä»¶å¤¹ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ã€‚ æ˜¾ç¤º éšè—æ–‡ä»¶ 1234567#æ˜¾ç¤ºå…¨éƒ¨æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool trueosascript -e 'tell application "Finder" to quit'#ä¸æ˜¾ç¤ºå…¨éƒ¨æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -bool falseosascript -e 'tell application "Finder" to quit']]></content>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitæ“ä½œ]]></title>
    <url>%2F2018%2F02%2F28%2F2018-02-28-1%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºçš„ä»“åº“ï¼šé»˜è®¤masterå…‹éš†çš„ä»“åº“ï¼šé»˜è®¤originï¼ˆæºï¼‰ git add å¼€å§‹è·Ÿè¸ªä¸€ä¸ªæ–°æ–‡ä»¶git statusæ˜¾ç¤ºgitçŠ¶æ€ git commitæäº¤æ›´æ–° git diffï¼šæ¯”è¾ƒå·¥ä½œåŒºå’Œç¼“å­˜åŒºçš„ä¸åŒã€‚git diff --cachedï¼šæ¯”è¾ƒç¼“å­˜åŒºå’Œä»“åº“çš„ä¸åŒã€‚ git pull å‘½ä»¤è‡ªåŠ¨æŠ“å–æ•°æ®ä¸‹æ¥ï¼Œç„¶åå°†è¿œç«¯åˆ†æ”¯è‡ªåŠ¨åˆå¹¶åˆ°æœ¬åœ°ä»“åº“ä¸­å½“å‰åˆ†æ”¯ git push [remote-name] [branch-name] å¦‚æœè¦æŠŠæœ¬åœ°çš„ master åˆ†æ”¯æ¨é€åˆ° origin æœåŠ¡å™¨ä¸Šï¼ˆå†æ¬¡è¯´æ˜ä¸‹ï¼Œå…‹éš†æ“ä½œä¼šè‡ªåŠ¨ä½¿ç”¨é»˜è®¤çš„ master å’Œ origin åå­—ï¼‰ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼šgit push origin master git logæ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿—ã€‚åŒ…å«æ¯ä¸ªæäº¤çš„SHA1æ ¡éªŒå’Œã€ä½œè€…çš„åå­—å’Œé‚®ç®±ã€æäº¤æ—¶é—´ä»¥åŠæäº¤è¯´æ˜ç­‰ã€‚gitkä½¿ç”¨å›¾å½¢åŒ–å·¥å…·æŸ¥é˜…æäº¤å†å² git commit --amendä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ git reset HEAD &lt;file&gt;...å–æ¶ˆå·²ç»æš‚å­˜çš„æ–‡ä»¶ Git åˆ†æ”¯git branchåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ git commit -a -m &#39;made other changes&#39; æäº¤åˆ†æ”¯git mergetoolè°ƒç”¨ä¸€ä¸ªå¯è§†åŒ–çš„åˆå¹¶å·¥å…·å¹¶å¼•å¯¼ä½ è§£å†³æ‰€æœ‰å†²çª gitå­¦ä¹ é“¾æ¥]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åšå®¢æ ·å¼æ”¹è¿›æ‚è®°]]></title>
    <url>%2F2018%2F02%2F27%2F%E5%8D%9A%E5%AE%A2%E6%A0%B7%E5%BC%8F%E6%94%B9%E8%BF%9B%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[è¯„è®ºåŒºæ ·å¼ä¿®æ”¹ï¼šæ–‡ä»¶ä½ç½®ï¼šthemes/next/source/css/_common/components/comments.styl ä¿®æ”¹å†…å®¹ï¼š 1234.comments &#123; background white; opacity:0.8;&#125; ç§»åŠ¨ç«¯ä¸åŠ è½½èƒŒæ™¯å›¾ä¸€ç‚¹ä¼˜åŒ–ï¼Œç§»åŠ¨ç«¯ä¸åŠ è½½èƒŒæ™¯å›¾ã€‚åœ¨_layout.swigåº•éƒ¨L2Dwidget.init({"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":-80,"vOffset":-50},"mobile":{"show":false,"scale":0.2},"react":{"opacityDefault":1,"opacityOnHover":0.2}});æ ‡ç­¾å‰ï¼ŒåŠ ä¸Šç§»åŠ¨ç«¯æµè§ˆå™¨å†…æ ¸åˆ¤æ–­è¯­å¥ï¼Œå½“ä¸ºPCç«¯æµè§ˆå™¨æ—¶ï¼ŒåŠ è½½èƒŒæ™¯js 123456789101112131415161718192021222324252627&lt;!--ç§»åŠ¨ç«¯åˆ¤æ–­ï¼Œæ˜¯å¦å¼•å…¥èƒŒæ™¯--&gt;&lt;script&gt;var browser=&#123; versions:function()&#123; var u = navigator.userAgent, app = navigator.appVersion; return &#123;//ç§»åŠ¨ç»ˆç«¯æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ trident: u.indexOf('Trident') &gt; -1, //IEå†…æ ¸ presto: u.indexOf('Presto') &gt; -1, //operaå†…æ ¸ webKit: u.indexOf('AppleWebKit') &gt; -1, //è‹¹æœã€è°·æ­Œå†…æ ¸ gecko: u.indexOf('Gecko') &gt; -1 &amp;&amp; u.indexOf('KHTML') == -1, //ç«ç‹å†…æ ¸ mobile: !!u.match(/AppleWebKit.*Mobile.*/), //æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯ ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //iosç»ˆç«¯ android: u.indexOf('Android') &gt; -1 || u.indexOf('Linux') &gt; -1, //androidç»ˆç«¯æˆ–è€…ucæµè§ˆå™¨ iPhone: u.indexOf('iPhone') &gt; -1 , //æ˜¯å¦ä¸ºiPhoneæˆ–è€…QQHDæµè§ˆå™¨ iPad: u.indexOf('iPad') &gt; -1, //æ˜¯å¦iPad webApp: u.indexOf('Safari') == -1 //æ˜¯å¦webåº”è¯¥ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨ &#125;; &#125;(), language:(navigator.browserLanguage || navigator.language).toLowerCase() &#125; if(browser.versions.mobile || browser.versions.ios || browser.versions.android || browser.versions.iPhone || browser.versions.iPad)&#123; &#125;else&#123; document.write("&lt;script type=\'text/javascript\' src=\'/js/src/particle.js\'&gt;&lt;\/script&gt;"); &#125;&lt;/script&gt;]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ğŸµè®°å½•ç‚¹æ»´ç”Ÿæ´»]]></title>
    <url>%2F2018%2F02%2F24%2F%F0%9F%8E%B5%E8%AE%B0%E5%BD%95%E7%82%B9%E6%BB%B4%E7%94%9F%E6%B4%BB%2F</url>
    <content type="text"><![CDATA[è®°å½•ç‚¹æ»´ç”Ÿæ´»ã€ŠBINGBIANç—…å˜ã€‹æ­Œæ›²ä¸é”™ï¼Œæ›²è°ƒæœ‰äº›å¿§ä¼¤ [00:00.21]ç½—ä¹‹è±ª - BINGBIANç—…å˜ [00:01.87]è¯ï¼šCubi/Fi9 [00:02.76]æ›²ï¼šJurrivh [00:03.72]æ··éŸ³ï¼šFi9 [00:19.36][02:01.33][03:09.30]æœ‰å¤©æˆ‘ç¡é†’çœ‹åˆ°æˆ‘çš„èº«è¾¹æ²¡æœ‰ä½  [00:23.52][02:05.53][03:13.50]åœ¨æˆ‘çš„å³è¾¹æ˜¯ä½ æ›¾ç»å–œæ¬¢çš„ç©å…· [00:27.75][02:09.76][03:17.66]å¯å½“æˆ‘ç«™èµ·èº«æ¥åœ¨æˆ¿é—´é‡Œå¯»æ‰¾ä½  [00:32.04][02:14.00][03:21.93]ç•™ä¸‹çš„åªæœ‰å¸¦ç€ä½ å‘³é“çš„ä¸€å°ä¿¡ [00:36.50][02:18.48][03:26.35]å°±åœ¨æ˜¨å¤©è¿˜ä¸€èµ·çœ‹æˆ‘ä»¬çš„ç…§ç‰‡ [00:40.47][02:22.48][03:30.46]å¯ç°åœ¨è®©æˆ‘æ„Ÿè§‰åƒçƒ‚å‰§é‡Œçš„ä¸»æ¼” [00:44.74][02:26.71][03:34.69]ä¸ºä»€ä¹ˆè¿™ç§äº‹æƒ…ä¼šå‘ç”Ÿåœ¨æˆ‘èº«è¾¹ [00:48.97][02:31.00][03:38.92]æ˜¯ä¸æ˜¯è€å¤©æ²¡èƒ½çœ‹åˆ°å¯¹ä½ çš„ç–¯ç™« [00:54.46]è¿˜æƒ³ç€ åˆ›é€ ä½ çš„å®‡å®™ [00:56.53]ä½†ç°åœ¨ å·²ç»è¢«æˆ‘æ¸…ç©º [00:58.57]ä½ è®©æˆ‘ æ•´ä¸ªäººéƒ½å†°å†» [01:00.68]è¿˜æ€ä¹ˆ å†æ¬¡ä¸ºä½ å¿ƒåŠ¨ [01:02.88]Wake me ä¸æ˜¯ä½ çš„æ„æ„¿ [01:04.97]ç¦»å¼€æˆ‘ å¼€å§‹æ–°çš„èµ·ç‚¹ [01:07.12]å¯èƒ½æˆ‘ è¿˜ä¼šå¯¹ä½ è´ªæ‹ [01:09.30]è°è®©ä½  æ›¾ç»è®©æˆ‘ç–¯ç™« [01:11.18]ç–¯ç™« é‚£ä¹Ÿæ˜¯è¿‡å»çš„ç”»é¢ [01:14.54]çœ‹å¾€åçš„å‡ å¤© [01:16.72]æˆ‘çŒœä½ ä¹Ÿä¸ä¼šå‡ºç° [01:18.78]æˆ‘å›æƒ³è¿™å‡ å¹´ [01:20.93]å°±åƒæ˜¯è¦å‘½çš„ç—…å˜ [01:23.16]ä½ å¯èƒ½å¬ä¸è§ [01:25.16]æ¥è‡ªæˆ‘å¯¹ä½ çš„æŒ‚å¿µ [01:27.53]å¯èƒ½æœ‰ç‚¹ç´¯ [01:28.85]è§‰å¾—å¯¹ä¸å¯¹è¿™æ˜¯ç¬¬å‡ æ¬¡åœ¨ä¸ºä½ å®¿é†‰ [01:31.98]æ²¡äº†æˆ‘è‚©è†€ [01:33.08]ä½ åœ¨è°èº«æ—ä¹°çš„ç¤¼ç‰©å˜æˆäº†ç° [01:35.99]æ›¾ç»æˆ‘å¤šæƒ³ [01:37.25]æŠŠä½ å˜æ¼‚äº®çœ‹ç€åˆ«äººç¾¡æ…•ä½ çš„æ¨¡æ · [01:40.50]æ²¡å…³ç³»æœ‰å°ç†Šé™ªç€ä½ çœ‹æœˆäº® [01:44.40]æˆ‘å·²ç»çœ‹åˆ°è·Ÿä½ æ–­ç”µçš„è¿‡ç¨‹ [01:46.96]ä½†æˆ‘å‡è£…çœ‹ä¸è§ [01:48.76]æ˜¯ä¸æ˜¯è¦æˆ‘å˜å¾—åƒä¸ªå‰é¬¼ [01:50.96]æ‰èƒ½è¿›å…¥ä½ çš„ä¸–ç•Œ [01:52.95]ä¸ºä»€ä¹ˆä¸è¯´å†è§ [01:54.31]æˆ‘çŒœä½ åº”è¯¥æ˜¯ä¸å°å¿ƒçš„å¿˜è®° [01:57.04]éƒ½æ— æ‰€è°“ä¹Ÿæœ‰ç‚¹ç´¯ [01:59.09]ä¹Ÿå¯ä»¥å¼€å§‹æ–°çš„è®°å¿† [02:35.19]æˆ‘ä¸èƒ½å¤Ÿåœæ­¢å•Š [02:37.43]è¿™äº›å¹´æˆ‘å¯¹ä½ çš„ç–¯ç™« [02:39.49]æˆ´ä¸Šé‚£æ¡å›´å·¾å§ [02:41.59]åœ¨æ¯ä¸ªå¯’é£åˆºéª¨çš„å†¬å¤© [02:43.92]æ¯æ¬¡é€ä½ å›å®¶ä½ æŠ±ç€æˆ‘ [02:45.63]ä¸ç»æ„é—´åˆè§¦ç¢°åˆ°ä½ çš„æ‰‹ [02:48.10]ä½ ç©¿è£™å­çœ¨çœ¼ç› æœ›ç€æˆ‘ [02:50.52]è®©æˆ‘æ¯æ¬¡å¿ƒåŠ¨çš„ç¬é—´ [02:52.49]é‚£æ¡åå­—è·¯å£ [02:54.39]å§‹ç»ˆæœ‰ä½ èº«ä¸Šçš„æ°”å‘³ [02:57.00]è½¦æ°´é©¬é¾™è¿‡åçš„è·¯ç¯ä¸‹çš„èº«å½± [03:00.10]åˆä¼šæ˜¯è° [03:00.83]ä»–æƒ³è¯´æˆ‘çœŸçš„ [03:02.01]å–œæ¬¢ä½ ä½†æ˜¯æ¯æ¬¡æ¬²è¨€åˆé—­å˜´ [03:05.57]é‚£æ—¶è’å”çš„ç”·å­© [03:07.64]åˆæµ‘æµŠäº†å‡ å² var ap = new APlayer({ element: document.getElementById("aplayer1"), narrow: false, autoplay: false, showlrc: 2, music: { title: "BINGBIANç—…å˜", author: "Cubi / Fi9æ±Ÿæ¾ˆ", url: "http://p4lmrb1gp.bkt.clouddn.com/Cubi,Aydo$,BRGang%20-%20BINGBIAN%E7%97%85%E5%8F%98.mp3", pic: "http://p4lmrb1gp.bkt.clouddn.com/BINGBIAN%E7%97%85%E5%8F%98.jpg", } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap);]]></content>
      <tags>
        <tag>æ‚è®°</tag>
        <tag>éŸ³ä¹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„blogè‡ªåŠ¨å‘å¸ƒè„šæœ¬]]></title>
    <url>%2F2018%2F02%2F23%2Fmac%E6%89%A7%E8%A1%8Cshell%E8%84%9A%E6%9C%AC%E9%81%87%E5%88%B0%E7%9A%84%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[é‡åˆ°çš„å‘ï¼š -bash: ./install.sh: /bin/bash: bad interpreter: Operation not permittedå‡ºç°è¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ï¼š-rwxrwxrwx@ æ–‡ä»¶çš„å±æ€§æœ€åå¸¦ä¸ª@ï¼Œè¿™ä¸ª@ä»£è¡¨çš„æ˜¯æ›´å¤šçš„ä¸€äº›å±æ€§ï¼Œå…·ä½“å«ä¹‰ä¸å¤ªæ¸…æ¥šï¼Œä½†æœ‰å®ƒå°±æ˜¯æ‰§è¡Œä¸äº†è§£å†³ï¼šå¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æ¥å»é™¤è¿™ä¸ªå±æ€§ï¼šxattr -d com.apple.quarantine ./*åæ¥è¿›å…¥ç›®å½•å‘ç°ç›®å½•ä¸‹é¢çš„æ–‡ä»¶è¿˜æ˜¯å¸¦æœ‰@å±æ€§ï¼Œæˆ‘ä»¬åˆ°æ ¹ç›®å½•åŠ ä¸€ä¸ª-rå°±å¥½äº†ï¼šxattr -d -r com.apple.quarantine ./* æˆ‘çš„blogè‡ªåŠ¨å‘å¸ƒè„šæœ¬:blog_publish.sh 123456789#!/bin/bashsay "blogs updating"cd /Users/pailiu/Library/Mobile\ Documents/iCloud~com~coderforart~iOS~MWeb/Documents/mweb_documents_library/Bloghexo clean &amp;&amp; hexo g &amp;&amp; hexo dsay "blogs published"rm -rf /Users/pailiu/Library/Caches/Google/Chrome/Profile\ 1/*open -a "/Applications/Google Chrome.app" 'http://cloudpai.site/'# hexo server]]></content>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åšå®¢æ’å…¥éŸ³é¢‘ã€è§†é¢‘]]></title>
    <url>%2F2018%2F02%2F22%2F%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E6%9D%82%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†é¿å…åæœŸå¤–é“¾å¤±æ•ˆï¼Œå¯ä»¥å°†è§†é¢‘ã€éŸ³é¢‘å›¾ç‰‡ç­‰èµ„æºä¼ è‡³ä¸ƒç‰›äº‘ç­‰cdnæœåŠ¡å™¨ä¸Šï¼Œä»ä¸­è·å–å¤–é“¾ã€‚ å¸¸ç”¨æ’ç‰ˆï¼šå±…ä¸­ï¼š 1&lt;center&gt; &lt;/center&gt; æ’å…¥å›¾ç‰‡ï¼šæœ‰å°ºå¯¸è¦æ±‚æ—¶ï¼š 1&lt;img src="http://p4lmrb1gp.bkt.clouddn.com/15194033640468.jpg" width="80%" height="80%"&gt; æ— å°ºå¯¸è¦æ±‚æ—¶å¿«é€Ÿæ’å…¥ï¼ˆmdæ ¼å¼ï¼‰ï¼š 1![](http://p4lmrb1gp.bkt.clouddn.com/15194033640468.jpg) æ’å…¥éŸ³ä¹ç½‘æ˜“äº‘éŸ³ä¹å¤–é“¾è·å–ï¼šè§å®˜ç½‘ä¿®æ”¹åšå®¢éŸ³ä¹æ’­æ”¾å™¨æ­Œæ›²è·¯å¾„ï¼š/Blog/themes/hexo-theme-next-master/layout/_macro/sidebar.swig qqéŸ³ä¹å¤–é“¾è·å–ï¼š http://www.qqmusic.cc/æ’å…¥éŸ³é¢‘æ’­æ”¾å™¨ä»£ç ï¼š 1&lt;audio src="http://mp3.qqmusic.cc/yq/211758246.mp3" controls="controls"&gt;&lt;/audio&gt; hexo-tag-aplayerï¼šåšå®¢ä¸­æ’å…¥è‡ªå®šä¹‰éŸ³ä¹ å®‰è£…æˆåŠŸåï¼Œåœ¨ Markdown æ–‡æ¡£ä¸­æ·»åŠ æ¯”å¦‚æ·»åŠ å¦‚ä¸‹ä»£ç ä½¿ç”¨hexo-tag-aplayer å‚æ•°12345678title ï¼šéŸ³ä¹æ ‡é¢˜authorï¼šéŸ³ä¹ä½œè€…urlï¼šéŸ³ä¹æ–‡ä»¶ç½‘å€picture_urlï¼šå¯é€‰ï¼ŒéŸ³ä¹å›¾ç‰‡ç½‘å€narrowï¼šå¯é€‰ï¼Œçª„æ¬¾å¼autoplayï¼šå¯é€‰ï¼Œè‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼Œä¸æ”¯æŒç§»åŠ¨æµè§ˆå™¨width:xxxï¼šå¯é€‰ï¼Œå‰ç¼€width:ï¼Œæ’­æ”¾å™¨å®½åº¦ï¼ˆé»˜è®¤å€¼ï¼š100ï¼…ï¼‰lrc:xxxï¼šå¯é€‰ï¼Œå‰ç¼€lrc:ï¼ŒLRCæ–‡ä»¶url ç¤ºä¾‹: 1&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125; [ti:æ˜¥æ„çº¢åŒ… (Vocaloid Ver.)] [ar:ä¹æ­£ç»«/å¿ƒå/æ´›å¤©ä¾] [al:æ˜¥æ„çº¢åŒ…] [by:] [offset:0] [00:00.29]æ˜¥æ„çº¢åŒ… (Vocaloid Ver.) - ä¹æ­£ç»«/å¿ƒå/æ´›å¤©ä¾ [00:00.89]è¯ï¼šæ³ é¸¢YOUSA [00:01.05]æ›²ï¼šWingç¿¼ [00:01.18]ç¼–æ›²ï¼šWingç¿¼ [00:01.95]å°éº¦é¢åŒ…é¥º å–œè‰²ä¸Šçœ‰æ¢¢ [00:05.78]ç‚¹æŸ³ç¿  ç”»æ˜¥æ™“ [00:08.85] [00:10.08]æ‰¾æ—§æ ·é“œæ¿ç©¿ä¸€ä¸²å‰å…† [00:14.20]æŠŠæ˜¥æ„è£…æ»¡çº¢åŒ… [00:17.86] [00:37.11]å»Šä¸‹çš„å°é˜¿å¦¹æ‘‡å¤´æ™ƒè„‘ [00:41.25]æœ›ç€ç“¦ä¸Šçš„ç¢å˜´å®¶é›€ [00:44.76] [00:45.56]é—®å®ƒä»¬æ˜¥æ—¥çš„é¸Ÿå„¿ ä½•æ—¶æ‰èƒ½åˆ° [00:49.81] [00:50.35]ç©¿è¡—æœå··æ²¿è·¯æ‰¾ [00:53.26] [00:53.76]çœ‹é‚»å®¶çš„è€äººæ‘˜ä¸‹æ¯¡å¸½ [00:57.88]è™½æ˜¯è„±å»å†¬è¡£è¿˜å°šæ—© [01:01.89]å®°é¸¡é¸­ èµ·ç‚‰ç¶ æ­å¼€è‡ªå®¶é™ˆé…¿ [01:07.91]å·å·å°ä¸€ç“¢ [01:09.81] [01:13.01]å¤§é¬¼å« å°é¬¼å« é‚ªç¥Ÿå“å¾—è·Œå€’ [01:16.73]è¯¥ç”¨ä»€ä¹ˆæ¸…æ‰« é”£é¼“é­ç‚® [01:20.58] [01:21.30]å°å­©å„¿ å¿«æ¥ç§ åˆ«å†äººå †èƒ¡é—¹ [01:24.85] [01:25.43]åªæœ‰å¬è¯ä¹–å·§ æ¥å¹´æ‰èƒ½é•¿é«˜ [01:29.08] [01:30.21]å’Œçº¸æµ† é‡‡æœ±ç ‚ æ”’ä¸€æ‘æ˜¥è”å å¥½ [01:34.25]å‰ªé‡‘èŠ± æŸ“çº¢æ–™ [01:36.24]å†ç³Šä¸€ä¸ªå››æ–¹å°åŒ… [01:37.98] [01:38.56]å¯¹èŠ±è°ƒ æŠ„ç«¥è°£ å†™ä¸€ä¸²å‰ç¥¥å®‰å¥½ [01:42.51]æ‰¶æ­£äº†å°é¢ ç”»ä¸Šæ˜¥æ¥åˆ° [01:46.14]ä¸€ç‰‡ç¿ è‰²è‘±è‘±æ˜å¿«åˆè·³è·ƒ [01:50.13]å‡ ç“£æµ·æ£ å±±èŒ¶èŠ±å„¿ç›¸æ˜ ç¬‘ [01:54.29]å†è˜¸æµ“å¢¨æ½¦è‰æ·»åªç‡•å­é—¹ [01:58.48]çº¢ç»³ç»• æ¥å°ä¸€ä¸ªå¤§çº¢åŒ… [02:02.83] [02:19.34]æ‰¾ä¸€å¼ æ™’çƒ«çš„æ¿å‡³æ­‡è„š [02:22.80] [02:23.58]çœ‹ä½ çœ¼ä¸‹åˆå¸ƒæ»¡æ“åŠ³ [02:27.59]ç¼–ç»‡æ©™é»„è“ç»¿æŠŠçƒ¦æ¼å…¨éƒ¨å¿˜æ‰ [02:32.00] [02:32.65]æŠ¬æ‰‹æ§ä¸€æŠŠçº¢æ£ [02:34.70] [02:35.97]éª—æ€•ç”Ÿçš„å°å¦¹ç‚¹ç¯ç¡è§‰ [02:40.05]ä¼šæœ‰é¬¼ç¥Ÿåœ¨å¤œæ™šæ¥åˆ° [02:43.55] [02:44.13]å¥¹æ…Œå¼  æˆ‘å·ç¬‘ è¿è¯´ä¸æ€•ä¸æ€• [02:50.16]è®©æˆ‘å»èµ¶è·‘ [02:52.62] [02:55.34]å·¦æ­è‚© å³å¸®è…” [02:57.19]æŒ¤å…‘è¿Ÿæ¥çš„å¤§å¿™äºº [02:59.59]ç¤¼ç‰©æœªåˆ° äººæ€èƒ½åˆ° [03:03.02] [03:03.62]è¡¨å«‚åµ å¤§èˆ…é—¹ è¿å¤©åœ°å–³å–³å« [03:07.03] [03:07.71]æˆ‘è£…ä½œå¬ä¸åˆ° ç›˜åæŠŠç¢—æ²¿æ•² [03:11.35] [03:12.37]è¸©é«˜è·· æŠ“èŠ±åŒ… æ’©ä¸€æŒ‚çº¢è¡£é­ç‚® [03:16.52]æ‰“å¹´ç³• ä¸²è¾£æ¤’ [03:18.59]æŠ¹èŠ±æˆ‘çš„èƒ­è„‚ç²‰è† [03:20.67]ä¾ƒå…«å¦ è®²å°é“ ç­‰æ¯ä¸­èŒ¶é…’å‡å°‘ [03:24.79]å°†æ‰‹ä¸Šçº¢åŒ… å¡è¿›ä½ æ£‰è¢„ [03:28.05] [03:28.60]ä½ é€å‰ç¥¥å¦‚æ„ å¹¸ç¦å¿«æ¥åˆ° [03:32.57]æˆ‘é€ç™¾å¹´é¡ºé‚ ä¸æ€•è¢«ç«çƒ§ [03:36.57]å†æ±‚æ¥å¹´ç”Ÿè¾° æ·»ä¸€åˆ†ç¾è²Œ [03:40.74]æ‹±æ‰‹æ‘‡ åŒé ä¸€èº¬å¯¹çœ¼ç¬‘ [03:44.55] [03:47.29]å°éº¦é¢åŒ…é¥º å–œè‰²ä¸Šçœ‰æ¢¢ [03:51.29]ç‚¹æŸ³ç¿  ç”»æ˜¥æ™“ [03:55.45]æ‰¾æ—§æ ·é“œæ¿ç©¿ä¸€ä¸²å‰å…† [03:59.58]æŠŠæ˜¥æ„èµ ä¸æ˜æœ [04:03.12] [04:04.16]å·¦æ­è‚© å³å¸®è…” çƒ­é—¹è¯ä¸è§å°‘ [04:08.24]ä½ æ¥è’¸ æˆ‘æ¥æŒ‘ å¡æ»¡å˜´çš„ç‰ç±³åŒ… [04:12.41]å¹²æŸ´çƒ§ ç«ç„°é«˜ çƒ¦å¿ƒäº‹å·²å¯¥å¯¥ [04:16.05] [04:16.66]çœ¯çœ¼ç§ æŠŠçº¢åŒ…å¡è¿›ä½ æ£‰è¢„ [04:20.59]ä¸€ç‰‡ç¿ è‰²è‘±è‘± æ˜å¿«åˆè·³è·ƒ [04:24.66]å‡ ç“£æµ·æ£ å±±èŒ¶ èŠ±å„¿ç›¸æ˜ ç¬‘ [04:28.80]å°ç€å‰ç¥¥å¦‚æ„ å¹¸ç¦å¿«æ¥åˆ° [04:32.97]çº¢ç»³ç»• æ‹†å¼€æ˜¥æ„å¤§çº¢åŒ… var ap = new APlayer({ element: document.getElementById("aplayer0"), narrow: false, autoplay: false, showlrc: 2, music: { title: "æ˜¥æ„çº¢åŒ…", author: "ä¸‰æ— MarBlue,ç¥–å¨…çº³æƒœ,æ³ é¸¢yousa", url: "http://p4lmrb1gp.bkt.clouddn.com/%E4%B8%89%E6%97%A0MarBlue,%E7%A5%96%E5%A8%85%E7%BA%B3%E6%83%9C,%E6%B3%A0%E9%B8%A2yousa%20-%20%E6%98%A5%E6%84%8F%E7%BA%A2%E5%8C%85.mp3", pic: "http://p4lmrb1gp.bkt.clouddn.com/%E6%98%A5%E6%84%8F%E7%BA%A2%E5%8C%85.jpg", } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); æ’­æ”¾åˆ—è¡¨123456789101112131415161718192021222324252627&#123;% aplayerlist %&#125;&#123; "narrow": false, // Optional, narrow style "autoplay": true, // Optional, autoplay song(s), not supported by mobile browsers "mode": "random", // Optional, play mode, can be `random` `single` `circulation`(loop) `order`(no loop), default: `circulation` "showlrc": 3, // Optional, show lrc, can be 1, 2, 3 "mutex": true, // Optional, pause other players when this player playing "theme": "#e6d0b2", // Optional, theme color, default: #b7daff "preload": "metadata", // Optional, the way to load music, can be 'none' 'metadata' 'auto', default: 'auto' "listmaxheight": "513px", // Optional, max height of play list "music": [ &#123; "title": "CoCo", "author": "Jeff Williams", "url": "caffeine.mp3", "pic": "caffeine.jpeg", "lrc": "caffeine.txt" &#125;, &#123; "title": "ã‚¢ã‚¤ãƒ­ãƒ‹", "author": "é¹¿ä¹ƒ", "url": "irony.mp3", "pic": "irony.jpg" &#125; ]&#125;&#123;% endaplayerlist %&#125; æ’å…¥è§†é¢‘ï¼švideo æ ‡ç­¾ï¼š 123&lt;video src="http://lxqncdn.miaopai.com/stream/BvmaXK2X49guVi4ehlOjjQ__.mp4" width="100%" height="100%" controls="controls"&gt;Your browser does not support the video tag.&lt;/video&gt; embedæ ‡ç­¾ï¼š 1&lt;embed src="http://player.youku.com/player.php/Type/Folder/Fid/27690810/Ob/1/sid/XMTY1MTI3NjMyNA==/v.swf" quality="high" width="480" height="400" align="middle" allowScriptAccess="always" allowFullScreen="true" mode="transparent" type="application/x-shockwave-flash"&gt;&lt;/embed&gt; iframeæ ‡ç­¾ï¼š 1&lt;iframe height=498 width=510 src="http://player.youku.com/embed/XMTY1MTI3NjMyNA==" frameborder=0 allowfullscreen&gt;&lt;/iframe&gt;]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
</search>
